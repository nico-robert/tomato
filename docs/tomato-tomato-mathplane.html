<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>tomato 1.2.4 Reference Manual</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='tomato.html'>tomato 1.2.4 Reference Manual</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::tomato::mathplane'></a>::tomato::mathplane<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>A Class representing a Plane in 3D space</p>
<h2 class='ruff'><a name='::tomato::mathplane-Classes'></a>Classes<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffclass'><a name='::tomato::mathplane::Plane'>Plane</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::constructor" title="constructor" class='ruff_cmd'>constructor</a></nobr></td><td>Constructor for the class.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::!=" title="!=" class='ruff_cmd'>!=</a></nobr></td><td>Gets value that indicates whether any pair of elements in two specified planes is not equal.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::==" title="==" class='ruff_cmd'>==</a></nobr></td><td>Gets value that indicates whether each pair of elements in two specified planes is equal.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::A" title="A" class='ruff_cmd'>A</a></nobr></td><td>Gets the Normal x component.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::AbsoluteDistanceTo" title="AbsoluteDistanceTo" class='ruff_cmd'>AbsoluteDistanceTo</a></nobr></td><td>Gets the distance to the point.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::B" title="B" class='ruff_cmd'>B</a></nobr></td><td>Gets the Normal y component.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::C" title="C" class='ruff_cmd'>C</a></nobr></td><td>Gets the Normal z component.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::D" title="D" class='ruff_cmd'>D</a></nobr></td><td>Gets the distance to the Plane along its normal from the origin</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::GetType" title="GetType" class='ruff_cmd'>GetType</a></nobr></td><td>Gets the name of class.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::IntersectionWith" title="IntersectionWith" class='ruff_cmd'>IntersectionWith</a></nobr></td><td>Finds the intersection...</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::MirrorAbout" title="MirrorAbout" class='ruff_cmd'>MirrorAbout</a></nobr></td><td>Gets point mirrored about the plane.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Normal" title="Normal" class='ruff_cmd'>Normal</a></nobr></td><td>Gets the normal vector of the Plane</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Project" title="Project" class='ruff_cmd'>Project</a></nobr></td><td>Project <code>$obj</code> on plane.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::RootPoint" title="RootPoint" class='ruff_cmd'>RootPoint</a></nobr></td><td>Gets the point on the plane closest to origin.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Rotate" title="Rotate" class='ruff_cmd'>Rotate</a></nobr></td><td>Rotates a plane</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::SignedDistanceTo" title="SignedDistanceTo" class='ruff_cmd'>SignedDistanceTo</a></nobr></td><td>Gets the signed distance</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane::ToString" title="ToString" class='ruff_cmd'>ToString</a></nobr></td><td>Returns a string representation of this object.</td></tr>
</table>
<h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::constructor'>constructor</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a new Plane Class. Constructs a Plane from the given normal and distance along the normal from the origin.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Plane create OBJNAME</span> <span class='ruff_arg'>?args?</span><br><span class='ruff_cmd'>Plane new</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>args</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>4 values</code></nobr></td><td>List of 4 values or 4 distinct values : The first 3 values represent The Plane's normal vector<br> and the last the distance to the Plane along its normal from the origin</td></tr>
<tr><td><nobr><code>no values</code></nobr></td><td>default to <code>Vector3d(0.0, 0.0, 1.0)</code> and the distance to the Plane along its normal to <code>-1</code></td></tr>
<tr><td><nobr><code>Point3d+Vector3d</code></nobr></td><td>Point on plane. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a><br> + The Plane's normal vector. <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a>.</td></tr>
<tr><td><nobr><code>Vector3d+double value</code></nobr></td><td>The Plane's normal vector. <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> + double value (the distance to the Plane along its normal from the origin).</td></tr>
<tr><td><nobr><code>Vector3d+Point3d</code></nobr></td><td>The Plane's normal vector. <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> + Point on plane. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>An error exception is raised if <code>args</code> is not the one desired.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_constructor' href="javascript:toggleSource('tomato_mathplane_Plane_constructor')">Show source</a></p>
<div id='tomato_mathplane_Plane_constructor' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> constructor {args} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Initializes a new Plane Class.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Constructs a Plane from the given normal and distance along the normal from the origin.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # args - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Vector3d+double value  - The Plane's normal vector. [mathvec3d::Vector3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #                        + double value (the distance to the Plane along its normal from the origin).</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Vector3d+Point3d       - The Plane's normal vector. [mathvec3d::Vector3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #                        + Point on plane. [mathpt3d::Point3d].</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point3d+Vector3d       - Point on plane. [mathpt3d::Point3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #                        + The Plane's normal vector. [mathvec3d::Vector3d].</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # 4 values               - List of 4 values or 4 distinct values : The first 3 values represent The Plane's normal vector&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #                          and the last the distance to the Plane along its normal from the origin</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # no values              - default to `Vector3d(0.0, 0.0, 1.0)` and the distance to the Plane along its normal to `-1`</span>

    if {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 2} {

        lassign <span style="color: rgb(233, 98, 98);">$args</span> obj value

        if {
            [tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$obj</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Vector3d&quot;</span>] &amp;&amp;
            [string is double <span style="color: rgb(233, 98, 98);">$value</span>]
        } {

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [<span style="color: rgb(233, 98, 98);">$obj</span> Normalized]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d      [expr {Inv(<span style="color: rgb(233, 98, 98);">$value</span>)}]

        } elseif {
            [tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$obj</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Vector3d&quot;</span>] &amp;&amp;
            [tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$value</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Point3d&quot;</span>]
        } {

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [<span style="color: rgb(233, 98, 98);">$obj</span> Normalized]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d      [expr {Inv([tomato::mathvec3d::Dot <span style="color: rgb(233, 98, 98);">$_normal</span> <span style="color: rgb(233, 98, 98);">$value</span>])}]

        } elseif {
            [tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$obj</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Point3d&quot;</span>] &amp;&amp;
            [tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$value</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Vector3d&quot;</span>]
        } {

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [<span style="color: rgb(233, 98, 98);">$value</span> Normalized]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d      [expr {Inv([tomato::mathvec3d::Dot <span style="color: rgb(233, 98, 98);">$_normal</span> <span style="color: rgb(233, 98, 98);">$obj</span>])}]

        } else {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Args must be A Vector3d with double value , A Vector3d with Point3d Or A Point3d with Vector3d...&quot;</span>
        }

    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 1} {

        if {[llength {*}<span style="color: rgb(233, 98, 98);">$args</span>] != 4} {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Must be a list of 4 values... : <span style="color: rgb(233, 98, 98);">$args</span>&quot;</span>
        }

        lassign {*}<span style="color: rgb(233, 98, 98);">$args</span> x y z d
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [[tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$x</span> <span style="color: rgb(233, 98, 98);">$y</span> <span style="color: rgb(233, 98, 98);">$z</span>] Normalized]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d <span style="color: rgb(233, 98, 98);">$d</span>


    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 4} {
        lassign <span style="color: rgb(233, 98, 98);">$args</span> x y z d

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [[tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$x</span> <span style="color: rgb(233, 98, 98);">$y</span> <span style="color: rgb(233, 98, 98);">$z</span>] Normalized]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d <span style="color: rgb(233, 98, 98);">$d</span>
    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 0} {
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # Default value</span>

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _normal [tomato::mathvec3d::Vector3d new 0.0 0.0 1.0]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _d -1
    } else {
        #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if `args` is not the one desired.</span>
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;The argument does not match the requested values, please refer to the documentation...&quot;</span>
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::!='>!=</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether any pair of elements in two specified planes is not equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ !=</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>other</code></nobr></td><td>The second plane to compare <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a>.</td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the planes are different. Otherwise <code>False</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane__=' href="javascript:toggleSource('tomato_mathplane_Plane__=')">Show source</a></p>
<div id='tomato_mathplane_Plane__=' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> != {other {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets value that indicates whether any pair of elements in two specified planes is not equal.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other - The second plane to compare [Plane].</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the planes are different. Otherwise `False`.</span>
    if {[llength [info level 0]] &lt; 4} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {![tomato::mathplane::Equals [self] <span style="color: rgb(233, 98, 98);">$other</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::=='>==</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether each pair of elements in two specified planes is equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ ==</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>other</code></nobr></td><td>The first plane to compare <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a>.</td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the planes are the same. Otherwise <code>False</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_==' href="javascript:toggleSource('tomato_mathplane_Plane_==')">Show source</a></p>
<div id='tomato_mathplane_Plane_==' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> == {other {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets value that indicates whether each pair of elements in two specified planes is equal.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other     - The first plane to compare [Plane].</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the planes are the same. Otherwise `False`.</span>
    if {[llength [info level 0]] &lt; 4} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {[tomato::mathplane::Equals [self] <span style="color: rgb(233, 98, 98);">$other</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::A'>A</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Normal x component.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ A</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_A' href="javascript:toggleSource('tomato_mathplane_Plane_A')">Show source</a></p>
<div id='tomato_mathplane_Plane_A' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> A {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Normal x component.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$_normal</span> X]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::AbsoluteDistanceTo'>AbsoluteDistanceTo</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the distance to the point.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ AbsoluteDistanceTo</span> <span class='ruff_arg'>point</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>point</code></nobr></td><td>A point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the distance</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_AbsoluteDistanceTo' href="javascript:toggleSource('tomato_mathplane_Plane_AbsoluteDistanceTo')">Show source</a></p>
<div id='tomato_mathplane_Plane_AbsoluteDistanceTo' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> AbsoluteDistanceTo {point} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the distance to the point.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # point  - A point [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns the distance</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {abs([my SignedDistanceTo <span style="color: rgb(233, 98, 98);">$point</span>])}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::B'>B</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Normal y component.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ B</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_B' href="javascript:toggleSource('tomato_mathplane_Plane_B')">Show source</a></p>
<div id='tomato_mathplane_Plane_B' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> B {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Normal y component.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$_normal</span> Y]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::C'>C</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Normal z component.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ C</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_C' href="javascript:toggleSource('tomato_mathplane_Plane_C')">Show source</a></p>
<div id='tomato_mathplane_Plane_C' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> C {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Normal z component.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$_normal</span> Z]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::D'>D</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the distance to the Plane along its normal from the origin</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ D</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_D' href="javascript:toggleSource('tomato_mathplane_Plane_D')">Show source</a></p>
<div id='tomato_mathplane_Plane_D' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> D {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the distance to the Plane along its normal from the origin</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_d</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::GetType'>GetType</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the name of class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ GetType</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_GetType' href="javascript:toggleSource('tomato_mathplane_Plane_GetType')">Show source</a></p>
<div id='tomato_mathplane_Plane_GetType' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> GetType {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the name of class.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::helper::TypeClass [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::IntersectionWith'>IntersectionWith</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds the intersection...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ IntersectionWith</span> <span class='ruff_arg'>obj ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to account for floating point error Optional, default <code>$::tomato::helper::TolGeom</code>.</td></tr>
<tr><td><nobr><code>Line</code></nobr></td><td><a href="tomato-tomato-mathline3d.html#::tomato::mathline3d::Line3d" title="mathline3d::Line3d" class='ruff_cmd'>mathline3d::Line3d</a></td></tr>
<tr><td><nobr><code>Plane</code></nobr></td><td><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>Ray</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>An error exception is raised if <code>$obj</code> is not as described above.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithPlane" title="IntersectionWithPlane" class='ruff_cmd'>IntersectionWithPlane</a>, <a href="tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithRay" title="IntersectionWithRay" class='ruff_cmd'>IntersectionWithRay</a>, <a href="tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithLine" title="IntersectionWithLine" class='ruff_cmd'>IntersectionWithLine</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_IntersectionWith' href="javascript:toggleSource('tomato_mathplane_Plane_IntersectionWith')">Show source</a></p>
<div id='tomato_mathplane_Plane_IntersectionWith' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> IntersectionWith {obj {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolGeom</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Finds the intersection...</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Plane  - [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Ray    - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Line   - [mathline3d::Line3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to account for floating point error</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # See also: IntersectionWithPlane IntersectionWithRay IntersectionWithLine</span>
    if {[llength [info level 0]] &lt; 4} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolGeom</span>
    }

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Plane {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::IntersectionWithPlane [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]
        }
        *Ray3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::IntersectionWithRay [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]
        }
        *Line3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::IntersectionWithLine [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]
        }
        default {
            #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">            # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if <span style="color: rgb(233, 98, 98);">$obj</span> is not as described above.</span>
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Obj must be Plane, Line3d or Ray3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::MirrorAbout'>MirrorAbout</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets point mirrored about the plane.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ MirrorAbout</span> <span class='ruff_arg'>point</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>point</code></nobr></td><td>A point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns The mirrored point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_MirrorAbout' href="javascript:toggleSource('tomato_mathplane_Plane_MirrorAbout')">Show source</a></p>
<div id='tomato_mathplane_Plane_MirrorAbout' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> MirrorAbout {point} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets point mirrored about the plane.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # point  - A point [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns The mirrored point [mathpt3d::Point3d].</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p2 [my Project <span style="color: rgb(233, 98, 98);">$point</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> d  [my SignedDistanceTo <span style="color: rgb(233, 98, 98);">$point</span>]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$p2</span> - [[my Normal] * <span style="color: rgb(233, 98, 98);">$d</span>]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::Normal'>Normal</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the normal vector of the Plane</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ Normal</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_Normal' href="javascript:toggleSource('tomato_mathplane_Plane_Normal')">Show source</a></p>
<div id='tomato_mathplane_Plane_Normal' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Normal {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the normal vector of the Plane</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_normal</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::Project'>Project</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Project <code>$obj</code> on plane.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ Project</span> <span class='ruff_arg'>obj ?direction?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>direction</code></nobr></td><td>The direction of projection <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> Optional, default <code>null</code>.</td></tr>
<tr><td><nobr><code>Line</code></nobr></td><td><a href="tomato-tomato-mathline3d.html#::tomato::mathline3d::Line3d" title="mathline3d::Line3d" class='ruff_cmd'>mathline3d::Line3d</a></td></tr>
<tr><td><nobr><code>Point</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>Vector</code></nobr></td><td><a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>An error exception is raised if <code>$obj</code> is not as described above.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="tomato-tomato-mathplane.html#::tomato::mathplane::ProjectPointOnplane" title="ProjectPointOnplane" class='ruff_cmd'>ProjectPointOnplane</a>, <a href="tomato-tomato-mathplane.html#::tomato::mathplane::ProjectVectorOnplane" title="ProjectVectorOnplane" class='ruff_cmd'>ProjectVectorOnplane</a>, <a href="tomato-tomato-mathplane.html#::tomato::mathplane::ProjectLine3dOnplane" title="ProjectLine3dOnplane" class='ruff_cmd'>ProjectLine3dOnplane</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_Project' href="javascript:toggleSource('tomato_mathplane_Plane_Project')">Show source</a></p>
<div id='tomato_mathplane_Plane_Project' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Project {obj {direction null}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Project <span style="color: rgb(233, 98, 98);">$obj</span> on plane.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point  - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Vector - [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Line   - [mathline3d::Line3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # direction - The direction of projection [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # See also: ProjectPointOnplane ProjectVectorOnplane ProjectLine3dOnplane</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Point3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::ProjectPointOnplane [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$direction</span>]
        }
        *Vector3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::ProjectVectorOnplane [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$direction</span>]
        }
        *Line3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::ProjectLine3dOnplane [self] <span style="color: rgb(233, 98, 98);">$obj</span> <span style="color: rgb(233, 98, 98);">$direction</span>]
        }
        default {
            #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">            # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if <span style="color: rgb(233, 98, 98);">$obj</span> is not as described above.</span>
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Obj must be Point3d, Vector3d or Line3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::RootPoint'>RootPoint</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the point on the plane closest to origin.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ RootPoint</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_RootPoint' href="javascript:toggleSource('tomato_mathplane_Plane_RootPoint')">Show source</a></p>
<div id='tomato_mathplane_Plane_RootPoint' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> RootPoint {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the point on the plane closest to origin.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [[[my Normal] * [expr {Inv([my D])}]] ToPoint3D]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::Rotate'>Rotate</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates a plane</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ Rotate</span> <span class='ruff_arg'>aboutVector angle</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>aboutVector</code></nobr></td><td>The vector about which to rotate <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td><nobr><code>angle</code></nobr></td><td>The angle to rotate in degrees</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated plane <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_Rotate' href="javascript:toggleSource('tomato_mathplane_Plane_Rotate')">Show source</a></p>
<div id='tomato_mathplane_Plane_Rotate' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Rotate {aboutVector angle} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotates a plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # aboutVector - The vector about which to rotate [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # angle - The angle to rotate in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated plane [Plane]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rootPoint [my RootPoint]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rotatedPoint [<span style="color: rgb(233, 98, 98);">$rootPoint</span> Rotate <span style="color: rgb(233, 98, 98);">$aboutVector</span> <span style="color: rgb(233, 98, 98);">$angle</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rotatedPlaneVector [[my Normal] Rotate <span style="color: rgb(233, 98, 98);">$aboutVector</span> <span style="color: rgb(233, 98, 98);">$angle</span>]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::Plane new <span style="color: rgb(233, 98, 98);">$rotatedPlaneVector</span> <span style="color: rgb(233, 98, 98);">$rotatedPoint</span>]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::SignedDistanceTo'>SignedDistanceTo</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the signed distance</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ SignedDistanceTo</span> <span class='ruff_arg'>obj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>Plane</code></nobr></td><td><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>Point</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>Ray</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>An error exception is raised if <code>$obj</code> is not as described above.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns The distance to the point along the <code>Normal</code> if <code>$obj</code> is Point The distance to the plane along the <code>Normal</code> if <code>$obj</code> is Plane The distance to the ThroughPoint of <code>ray</code> along the <code>Normal</code> if <code>$obj</code> is Ray</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_SignedDistanceTo' href="javascript:toggleSource('tomato_mathplane_Plane_SignedDistanceTo')">Show source</a></p>
<div id='tomato_mathplane_Plane_SignedDistanceTo' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> SignedDistanceTo {obj} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the signed distance</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point  - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Plane  - [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Ray    - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The distance to the point along the `Normal` if <span style="color: rgb(233, 98, 98);">$obj</span> is Point</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The distance to the plane along the `Normal` if <span style="color: rgb(233, 98, 98);">$obj</span> is Plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The distance to the ThroughPoint of `ray` along the `Normal` if <span style="color: rgb(233, 98, 98);">$obj</span> is Ray</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Point3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p [my Project <span style="color: rgb(233, 98, 98);">$obj</span>]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v [<span style="color: rgb(233, 98, 98);">$p</span> VectorTo <span style="color: rgb(233, 98, 98);">$obj</span>]

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$v</span> DotProduct [my Normal]]
        }
        *Plane {
            if {![[my Normal] IsParallelTo [<span style="color: rgb(233, 98, 98);">$obj</span> Normal] 1e-15]} {
                throw {Planesnotparallel} <span style="color: hsl(120, 71%, 16%);">&quot;Planes are not parallel...&quot;</span>
            }

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [my SignedDistanceTo [<span style="color: rgb(233, 98, 98);">$obj</span> RootPoint]]
        }
        *Ray3d {
            if {abs([[<span style="color: rgb(233, 98, 98);">$obj</span> Direction] DotProduct [my Normal]] - 0) &lt; 1e-15} {
                <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [my SignedDistanceTo [<span style="color: rgb(233, 98, 98);">$obj</span> ThroughPoint]]
            }

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> 0
            }
        default {
            #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">            # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if <span style="color: rgb(233, 98, 98);">$obj</span> is not as described above.</span>
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Obj must be Point3d, Plane or Ray3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathplane::Plane::ToString'>ToString</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="::tomato::mathplane::Plane" class='ruff_cmd'>::tomato::mathplane::Plane</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PLANEOBJ ToString</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Plane_ToString' href="javascript:toggleSource('tomato_mathplane_Plane_ToString')">Show source</a></p>
<div id='tomato_mathplane_Plane_ToString' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> ToString {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns a string representation of this object.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [format {%s, %s, %s, %s} [my A] [my B] [my C] [my D]]
}</pre></div>
</div><h2 class='ruff'><a name='::tomato::mathplane-Commands'></a>Commands<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::tomato::mathplane::Equals'>Equals</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Indicate if a pair of geometric planes are equal</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Equals</span> <span class='ruff_arg'>plane other tolerance</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane</code></nobr></td><td>First input plane <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>other</code></nobr></td><td>Second input plane <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>See : methods == !=</p>
<p class='ruff'>An error exception is raised if tolerance (epsilon) &lt; 0.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the planes are equal, otherwise false.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_Equals' href="javascript:toggleSource('tomato_mathplane_Equals')">Show source</a></p>
<div id='tomato_mathplane_Equals' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::Equals {plane other tolerance} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Indicate if a pair of geometric planes are equal</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane - First input plane [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other - Second input plane [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the planes are equal, otherwise false.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # See : methods == !=</span>
    if {<span style="color: rgb(233, 98, 98);">$tolerance</span> &lt; 0} {
        #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if tolerance (epsilon) &lt; 0.</span>
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;epsilon &lt; 0&quot;</span>
    }
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {
                  (abs([<span style="color: rgb(233, 98, 98);">$other</span> D] - [<span style="color: rgb(233, 98, 98);">$plane</span> D]) &lt; <span style="color: rgb(233, 98, 98);">$tolerance</span>) &amp;&amp;
                  [[<span style="color: rgb(233, 98, 98);">$plane</span> Normal] == [<span style="color: rgb(233, 98, 98);">$other</span> Normal] <span style="color: rgb(233, 98, 98);">$tolerance</span>]
                }]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::FromPoints'>FromPoints</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a new instance of the Plane class. Creates a plane that contains the three given points.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>FromPoints</span> <span class='ruff_arg'>p1 p2 p3 ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>p1</code></nobr></td><td>The first point on the plane. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>p2</code></nobr></td><td>The second point on the plane. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>p3</code></nobr></td><td>The third point on the plane. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>To ensure than the 3 points are not on the same line. Optional, default <code>$::tomato::helper::TolGeom</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns The plane containing the three points.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_FromPoints' href="javascript:toggleSource('tomato_mathplane_FromPoints')">Show source</a></p>
<div id='tomato_mathplane_FromPoints' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::FromPoints {p1 p2 p3 {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolGeom</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Initializes a new instance of the Plane class.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Creates a plane that contains the three given points.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # p1  - The first point on the plane. [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # p2  - The second point on the plane. [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # p3  - The third point on the plane. [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance  - To ensure than the 3 points are not on the same line.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns The plane containing the three points.</span>
    if {[llength [info level 0]] &lt; 5} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolGeom</span>
    }

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # http://www.had2know.com/academics/equation-plane-through-3-points.html</span>
    if {[<span style="color: rgb(233, 98, 98);">$p1</span> == <span style="color: rgb(233, 98, 98);">$p2</span>] || [<span style="color: rgb(233, 98, 98);">$p1</span> == <span style="color: rgb(233, 98, 98);">$p3</span>] || [<span style="color: rgb(233, 98, 98);">$p2</span> == <span style="color: rgb(233, 98, 98);">$p3</span>]} {
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Must use three different points&quot;</span>
    }

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v1 [tomato::mathvec3d::Vector3d new [expr {[<span style="color: rgb(233, 98, 98);">$p2</span> X] - [<span style="color: rgb(233, 98, 98);">$p1</span> X]}]  [expr {[<span style="color: rgb(233, 98, 98);">$p2</span> Y] - [<span style="color: rgb(233, 98, 98);">$p1</span> Y]}]  [expr {[<span style="color: rgb(233, 98, 98);">$p2</span> Z] - [<span style="color: rgb(233, 98, 98);">$p1</span> Z]}]]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v2 [tomato::mathvec3d::Vector3d new [expr {[<span style="color: rgb(233, 98, 98);">$p3</span> X] - [<span style="color: rgb(233, 98, 98);">$p1</span> X]}]  [expr {[<span style="color: rgb(233, 98, 98);">$p3</span> Y] - [<span style="color: rgb(233, 98, 98);">$p1</span> Y]}]  [expr {[<span style="color: rgb(233, 98, 98);">$p3</span> Z] - [<span style="color: rgb(233, 98, 98);">$p1</span> Z]}]]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cross [<span style="color: rgb(233, 98, 98);">$v1</span> CrossProduct <span style="color: rgb(233, 98, 98);">$v2</span>]

    if {[<span style="color: rgb(233, 98, 98);">$cross</span> Length] &lt; <span style="color: rgb(233, 98, 98);">$tolerance</span>} {
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;The 3 points should not be on the same line&quot;</span>
    }

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> normal [<span style="color: rgb(233, 98, 98);">$cross</span> Normalized]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> distanceFromOrigin [<span style="color: rgb(233, 98, 98);">$normal</span> DotProduct <span style="color: rgb(233, 98, 98);">$p1</span>]

    if {<span style="color: rgb(233, 98, 98);">$distanceFromOrigin</span> &lt; 0} {
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # make sure the plane is defined in its Hesse normal form</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # https://en.wikipedia.org/wiki/Hesse_normal_form</span>
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> normal [<span style="color: rgb(233, 98, 98);">$normal</span> Negate]
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathplane::Plane new <span style="color: rgb(233, 98, 98);">$normal</span> <span style="color: rgb(233, 98, 98);">$p1</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::IntersectionWithLine'>IntersectionWithLine</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Find intersection between Line3D and Plane <a href="http://geomalgorithms.com/a05-_intersect-1.html">http://geomalgorithms.com/a05-_intersect-1.html</a></p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IntersectionWithLine</span> <span class='ruff_arg'>plane1 line tolerance</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane1</code></nobr></td><td><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>line</code></nobr></td><td><a href="tomato-tomato-mathline3d.html#::tomato::mathline3d::Line3d" title="mathline3d::Line3d" class='ruff_cmd'>mathline3d::Line3d</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns Intersection Point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a> or nothing</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_IntersectionWithLine' href="javascript:toggleSource('tomato_mathplane_IntersectionWithLine')">Show source</a></p>
<div id='tomato_mathplane_IntersectionWithLine' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::IntersectionWithLine {plane1 line tolerance} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Find intersection between Line3D and Plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # &lt;http://geomalgorithms.com/a05-_intersect-1.html&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane1   - [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # line     - [mathline3d::Line3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns Intersection Point [mathpt3d::Point3d] or nothing</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> u [[<span style="color: rgb(233, 98, 98);">$line</span> EndPoint] - [<span style="color: rgb(233, 98, 98);">$line</span> StartPoint]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> w [[<span style="color: rgb(233, 98, 98);">$line</span> StartPoint] - [<span style="color: rgb(233, 98, 98);">$plane1</span> RootPoint]]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> D [[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] DotProduct <span style="color: rgb(233, 98, 98);">$u</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> N [expr {Inv([[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] DotProduct <span style="color: rgb(233, 98, 98);">$w</span>])}]

    if {abs(<span style="color: rgb(233, 98, 98);">$D</span>) &lt; <span style="color: rgb(233, 98, 98);">$tolerance</span>} {
        if {<span style="color: rgb(233, 98, 98);">$N</span> == 0.0} {
            throw {Linelies} <span style="color: hsl(120, 71%, 16%);">&quot;Line lies in the plane&quot;</span>
        } else {
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">            # Line and plane are parallel</span>
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> {}
        }
    }

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> t [expr {<span style="color: rgb(233, 98, 98);">$N</span> / double(<span style="color: rgb(233, 98, 98);">$D</span>)}]

    if {(<span style="color: rgb(233, 98, 98);">$t</span> &gt; 1.0) || (<span style="color: rgb(233, 98, 98);">$t</span> &lt; 0.0)} {
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # They are not intersected</span>
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> {}
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [[<span style="color: rgb(233, 98, 98);">$line</span> StartPoint] + [<span style="color: rgb(233, 98, 98);">$u</span> * <span style="color: rgb(233, 98, 98);">$t</span>]]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::IntersectionWithPlane'>IntersectionWithPlane</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Finds the intersection of the two planes, throws if they are parallel</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IntersectionWithPlane</span> <span class='ruff_arg'>plane1 plane2 tolerance</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane1</code></nobr></td><td>The first plane. <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>plane2</code></nobr></td><td>The second plane. <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to check if planes are not parallel.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A ray at the intersection. <a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_IntersectionWithPlane' href="javascript:toggleSource('tomato_mathplane_IntersectionWithPlane')">Show source</a></p>
<div id='tomato_mathplane_IntersectionWithPlane' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::IntersectionWithPlane {plane1 plane2 tolerance} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Finds the intersection of the two planes, throws if they are parallel</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane1  - The first plane. [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane2  - The second plane. [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance  - A tolerance (epsilon) to check if planes are not parallel.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A ray at the intersection. [mathray3d::Ray3d]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> dir [[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] CrossProduct [<span style="color: rgb(233, 98, 98);">$plane2</span> Normal]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> det [<span style="color: rgb(233, 98, 98);">$dir</span> LengthSquared]

    if {abs(<span style="color: rgb(233, 98, 98);">$det</span>) &gt; <span style="color: rgb(233, 98, 98);">$tolerance</span>} {

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v1 [<span style="color: rgb(233, 98, 98);">$dir</span> CrossProduct [<span style="color: rgb(233, 98, 98);">$plane2</span> Normal]]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v2 [<span style="color: rgb(233, 98, 98);">$v1</span> * [<span style="color: rgb(233, 98, 98);">$plane1</span> D]]

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v3 [[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] CrossProduct <span style="color: rgb(233, 98, 98);">$dir</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v4 [<span style="color: rgb(233, 98, 98);">$v2</span> + [<span style="color: rgb(233, 98, 98);">$v3</span> * [<span style="color: rgb(233, 98, 98);">$plane2</span> D]]]

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> pt [<span style="color: rgb(233, 98, 98);">$v4</span> * [expr {1.0 / <span style="color: rgb(233, 98, 98);">$det</span>}]]

    } else {
        throw {Planesparallel} <span style="color: hsl(120, 71%, 16%);">&quot;Planes are parallel&quot;</span>
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathray3d::Ray3d new [<span style="color: rgb(233, 98, 98);">$pt</span> ToPoint3D] <span style="color: rgb(233, 98, 98);">$dir</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::IntersectionWithRay'>IntersectionWithRay</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Finds the intersection between a ray and plane, throws if ray is parallel to the plane <a href="http://geomalgorithms.com/a05-_intersect-1.html">http://geomalgorithms.com/a05-_intersect-1.html</a></p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IntersectionWithRay</span> <span class='ruff_arg'>plane1 ray tolerance</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane1</code></nobr></td><td><a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>ray</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to check if rays are not parallel.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns The point of intersection. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_IntersectionWithRay' href="javascript:toggleSource('tomato_mathplane_IntersectionWithRay')">Show source</a></p>
<div id='tomato_mathplane_IntersectionWithRay' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::IntersectionWithRay {plane1 ray tolerance} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Finds the intersection between a ray and plane, throws if ray is parallel to the plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # &lt;http://geomalgorithms.com/a05-_intersect-1.html&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane1  - [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # ray     - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance  - A tolerance (epsilon) to check if rays are not parallel.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns The point of intersection. [mathpt3d::Point3d]</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> u [<span style="color: rgb(233, 98, 98);">$ray</span> Direction]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> D [[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] DotProduct <span style="color: rgb(233, 98, 98);">$u</span>]

    if {abs(<span style="color: rgb(233, 98, 98);">$D</span>) &lt; <span style="color: rgb(233, 98, 98);">$tolerance</span>} {
        throw {Rayparallel} <span style="color: hsl(120, 71%, 16%);">&quot;Ray is parallel to the plane...&quot;</span>
    }

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> w [[<span style="color: rgb(233, 98, 98);">$ray</span> ThroughPoint] - [<span style="color: rgb(233, 98, 98);">$plane1</span> RootPoint]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> N [[[<span style="color: rgb(233, 98, 98);">$plane1</span> Normal] Negate] DotProduct <span style="color: rgb(233, 98, 98);">$w</span>]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> t [expr {<span style="color: rgb(233, 98, 98);">$N</span> / double(<span style="color: rgb(233, 98, 98);">$D</span>)}]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [[<span style="color: rgb(233, 98, 98);">$ray</span> ThroughPoint] + [<span style="color: rgb(233, 98, 98);">$u</span> * <span style="color: rgb(233, 98, 98);">$t</span>]]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::PointFromPlanes'>PointFromPlanes</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Gets a point of intersection between three planes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>PointFromPlanes</span> <span class='ruff_arg'>plane1 plane2 plane3</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane1</code></nobr></td><td>The first plane. <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>plane2</code></nobr></td><td>The second plane. <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>plane3</code></nobr></td><td>The third plane. <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns The intersection point. <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_PointFromPlanes' href="javascript:toggleSource('tomato_mathplane_PointFromPlanes')">Show source</a></p>
<div id='tomato_mathplane_PointFromPlanes' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::PointFromPlanes {plane1 plane2 plane3} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets a point of intersection between three planes</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane1  - The first plane. [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane2  - The second plane. [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane3  - The third plane. [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns The intersection point. [mathpt3d::Point3d]</span>

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathpt3d::IntersectionOf3Planes <span style="color: rgb(233, 98, 98);">$plane1</span> <span style="color: rgb(233, 98, 98);">$plane2</span> <span style="color: rgb(233, 98, 98);">$plane3</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::ProjectLine3dOnplane'>ProjectLine3dOnplane</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Projects a point onto the plane</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectLine3dOnplane</span> <span class='ruff_arg'>plane line direction</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane</code></nobr></td><td>The plane projection <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>line</code></nobr></td><td><a href="tomato-tomato-mathline3d.html#::tomato::mathline3d::Line3d" title="mathline3d::Line3d" class='ruff_cmd'>mathline3d::Line3d</a></td></tr>
<tr><td><nobr><code>direction</code></nobr></td><td>The direction of projection <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> (can be equal to &quot;null&quot;)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A projected line <a href="tomato-tomato-mathline3d.html#::tomato::mathline3d::Line3d" title="mathline3d::Line3d" class='ruff_cmd'>mathline3d::Line3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_ProjectLine3dOnplane' href="javascript:toggleSource('tomato_mathplane_ProjectLine3dOnplane')">Show source</a></p>
<div id='tomato_mathplane_ProjectLine3dOnplane' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::ProjectLine3dOnplane {plane line direction} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Projects a point onto the plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane - The plane projection [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # line - [mathline3d::Line3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # direction - The direction of projection [mathvec3d::Vector3d] (can be equal to <span style="color: hsl(120, 71%, 16%);">&quot;null&quot;</span>)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A projected line [mathline3d::Line3d]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectedStartPoint [<span style="color: rgb(233, 98, 98);">$plane</span> Project [<span style="color: rgb(233, 98, 98);">$line</span> StartPoint] <span style="color: rgb(233, 98, 98);">$direction</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectedEndPoint   [<span style="color: rgb(233, 98, 98);">$plane</span> Project [<span style="color: rgb(233, 98, 98);">$line</span> EndPoint] <span style="color: rgb(233, 98, 98);">$direction</span>]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathline3d::Line3d new <span style="color: rgb(233, 98, 98);">$projectedStartPoint</span> <span style="color: rgb(233, 98, 98);">$projectedEndPoint</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::ProjectPointOnplane'>ProjectPointOnplane</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Projects a point onto the plane</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectPointOnplane</span> <span class='ruff_arg'>plane point direction</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane</code></nobr></td><td>The plane projection <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>point</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>direction</code></nobr></td><td>The direction of projection <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> (can be equal to <code>null</code>)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A projected point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_ProjectPointOnplane' href="javascript:toggleSource('tomato_mathplane_ProjectPointOnplane')">Show source</a></p>
<div id='tomato_mathplane_ProjectPointOnplane' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::ProjectPointOnplane {plane point direction} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Projects a point onto the plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane - The plane projection [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # point - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # direction - The direction of projection [mathvec3d::Vector3d] (can be equal to `null`)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A projected point [mathpt3d::Point3d]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> dotProduct [[<span style="color: rgb(233, 98, 98);">$plane</span> Normal] DotProduct [<span style="color: rgb(233, 98, 98);">$point</span> ToVector3D]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectiononNormal [expr {<span style="color: rgb(233, 98, 98);">$direction</span> eq <span style="color: hsl(120, 71%, 16%);">&quot;null&quot;</span> ? [<span style="color: rgb(233, 98, 98);">$plane</span> Normal] : [<span style="color: rgb(233, 98, 98);">$direction</span> Normalized]}]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectionVector [<span style="color: rgb(233, 98, 98);">$projectiononNormal</span> * [expr {<span style="color: rgb(233, 98, 98);">$dotProduct</span> + [<span style="color: rgb(233, 98, 98);">$plane</span> D]}]]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$point</span> - <span style="color: rgb(233, 98, 98);">$projectionVector</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathplane::ProjectVectorOnplane'>ProjectVectorOnplane</a><span class='ns_scope'> [<a href="tomato-tomato-mathplane.html#::tomato::mathplane" title="::tomato::mathplane" class='ruff_cmd'>::tomato::mathplane</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Projects a point onto the plane</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ProjectVectorOnplane</span> <span class='ruff_arg'>plane vector direction</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>plane</code></nobr></td><td>The plane projection <a href="tomato-tomato-mathplane.html#::tomato::mathplane::Plane" title="Plane" class='ruff_cmd'>Plane</a></td></tr>
<tr><td><nobr><code>vector</code></nobr></td><td><a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td><nobr><code>direction</code></nobr></td><td>The direction of projection <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> (can be equal to <code>null</code>)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A projected ray <a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathplane_ProjectVectorOnplane' href="javascript:toggleSource('tomato_mathplane_ProjectVectorOnplane')">Show source</a></p>
<div id='tomato_mathplane_ProjectVectorOnplane' class='ruff_dyn_src'><pre>proc ::tomato::mathplane::ProjectVectorOnplane {plane vector direction} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Projects a point onto the plane</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # plane - The plane projection [Plane]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # vector - [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # direction - The direction of projection [mathvec3d::Vector3d] (can be equal to `null`)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A projected ray [mathray3d::Ray3d]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectedEndPoint [<span style="color: rgb(233, 98, 98);">$plane</span> Project [<span style="color: rgb(233, 98, 98);">$vector</span> ToPoint3D] <span style="color: rgb(233, 98, 98);">$direction</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> projectedZero     [<span style="color: rgb(233, 98, 98);">$plane</span> Project [tomato::mathpt3d::Point3d new 0 0 0] <span style="color: rgb(233, 98, 98);">$direction</span>]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathray3d::Ray3d new <span style="color: rgb(233, 98, 98);">$projectedZero</span> [[<span style="color: rgb(233, 98, 98);">$projectedZero</span> VectorTo <span style="color: rgb(233, 98, 98);">$projectedEndPoint</span>] Normalized]]
}</pre></div>
</div></main><nav class='ruff-nav'><ul style='position: sticky; top: 0;'><li class='ruff-toc1'><a style='padding-top:2px;' href='tomato.html'>Start page</a></li>
<li class='ruff-toc1'><a href='tomato-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a href='tomato-tomato-helper.html'>tomato::helper</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathtriangle.html'>tomato::mathtriangle</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathcsys.html'>tomato::mathcsys</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathquat.html'>tomato::mathquat</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathline3d.html'>tomato::mathline3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathray3d.html'>tomato::mathray3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathpt3d.html'>tomato::mathpt3d</a></li>
<li class='ruff-toc1'><a class='ruff-highlight' href='tomato-tomato-mathplane.html'>tomato::mathplane</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathmatrix3d.html'>tomato::mathmatrix3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathvec3d.html'>tomato::mathvec3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathmatrix.html'>tomato::mathmatrix</a></li>
<hr><li class='ruff-toc2'><a href='#::tomato::mathplane-Classes'>Classes</a></li><li class='ruff-toc3'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane'>Plane</a></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::constructor'>constructor</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Plane create OBJNAME</span> <span class='ruff_arg'>?args?</span>
<span class='ruff_cmd'>Plane new</span> <span class='ruff_arg'>?args?</span></pre>Initializes a new Plane Class. Constructs a Plane from the given normal and distance along the normal from the origin.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::!='>!=</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ !=</span> <span class='ruff_arg'>other ?tolerance?</span></pre>Gets value that indicates whether any pair of elements in two specified planes is not equal.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::=='>==</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ ==</span> <span class='ruff_arg'>other ?tolerance?</span></pre>Gets value that indicates whether each pair of elements in two specified planes is equal.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::A'>A</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ A</span> </pre>Gets the Normal x component.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::AbsoluteDistanceTo'>AbsoluteDistanceTo</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ AbsoluteDistanceTo</span> <span class='ruff_arg'>point</span></pre>Gets the distance to the point.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::B'>B</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ B</span> </pre>Gets the Normal y component.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::C'>C</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ C</span> </pre>Gets the Normal z component.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::D'>D</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ D</span> </pre>Gets the distance to the Plane along its normal from the origin
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::GetType'>GetType</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ GetType</span> </pre>Gets the name of class.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::IntersectionWith'>IntersectionWith</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ IntersectionWith</span> <span class='ruff_arg'>obj ?tolerance?</span></pre>Finds the intersection...
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::MirrorAbout'>MirrorAbout</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ MirrorAbout</span> <span class='ruff_arg'>point</span></pre>Gets point mirrored about the plane.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Normal'>Normal</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ Normal</span> </pre>Gets the normal vector of the Plane
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Project'>Project</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ Project</span> <span class='ruff_arg'>obj ?direction?</span></pre>Project <code>$obj</code> on plane.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::RootPoint'>RootPoint</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ RootPoint</span> </pre>Gets the point on the plane closest to origin.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::Rotate'>Rotate</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ Rotate</span> <span class='ruff_arg'>aboutVector angle</span></pre>Rotates a plane
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::SignedDistanceTo'>SignedDistanceTo</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ SignedDistanceTo</span> <span class='ruff_arg'>obj</span></pre>Gets the signed distance
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Plane::ToString'>ToString</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PLANEOBJ ToString</span> </pre>Returns a string representation of this object.
</span></li><li class='ruff-toc2'><a href='#::tomato::mathplane-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::Equals'>Equals</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Equals</span> <span class='ruff_arg'>plane other tolerance</span></pre>Indicate if a pair of geometric planes are equal
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::FromPoints'>FromPoints</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>FromPoints</span> <span class='ruff_arg'>p1 p2 p3 ?tolerance?</span></pre>Initializes a new instance of the Plane class. Creates a plane that contains the three given points.
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithLine'>IntersectionWithLine</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>IntersectionWithLine</span> <span class='ruff_arg'>plane1 line tolerance</span></pre>Find intersection between Line3D and Plane <a href="http://geomalgorithms.com/a05-_intersect-1.html">http://geomalgorithms.com/a05-_intersect-1.html</a>
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithPlane'>IntersectionWithPlane</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>IntersectionWithPlane</span> <span class='ruff_arg'>plane1 plane2 tolerance</span></pre>Finds the intersection of the two planes, throws if they are parallel
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::IntersectionWithRay'>IntersectionWithRay</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>IntersectionWithRay</span> <span class='ruff_arg'>plane1 ray tolerance</span></pre>Finds the intersection between a ray and plane, throws if ray is parallel to the plane <a href="http://geomalgorithms.com/a05-_intersect-1.html">http://geomalgorithms.com/a05-_intersect-1.html</a>
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::PointFromPlanes'>PointFromPlanes</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>PointFromPlanes</span> <span class='ruff_arg'>plane1 plane2 plane3</span></pre>Gets a point of intersection between three planes
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::ProjectLine3dOnplane'>ProjectLine3dOnplane</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>ProjectLine3dOnplane</span> <span class='ruff_arg'>plane line direction</span></pre>Projects a point onto the plane
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::ProjectPointOnplane'>ProjectPointOnplane</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>ProjectPointOnplane</span> <span class='ruff_arg'>plane point direction</span></pre>Projects a point onto the plane
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathplane.html#::tomato::mathplane::ProjectVectorOnplane'>ProjectVectorOnplane</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>ProjectVectorOnplane</span> <span class='ruff_arg'>plane vector direction</span></pre>Projects a point onto the plane
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></footer>
</div></body></html>

