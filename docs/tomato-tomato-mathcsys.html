<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>tomato 1.2.4 Reference Manual</title>
<link rel='stylesheet' type='text/css' href='assets/ruff-min.css' />
<script type='text/javascript' src='assets/ruff-min.js'></script>
</head>
<body>
<div class='ruff-layout'>
<header class='ruff-layout-header ruff-hd'>
<a style='text-decoration:none;' href='tomato.html'>tomato 1.2.4 Reference Manual</a>


            <div id="ruffButtonBar">
            <button id="ruffNavMove" onclick="ruffMoveNavPane()"></button>
            <button id="ruffToggleTheme" onclick="ruffNextTheme()"></button>
            </div>
        </header><main class='ruff-layout-main ruff-bd'><h1 class='ruff'><a name='::tomato::mathcsys'></a>::tomato::mathcsys<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>A Class representing a Coordinate System.</p>
<h2 class='ruff'><a name='::tomato::mathcsys-Classes'></a>Classes<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffclass'><a name='::tomato::mathcsys::Csys'>Csys</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::constructor" title="constructor" class='ruff_cmd'>constructor</a></nobr></td><td>Constructor for the class.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::!=" title="!=" class='ruff_cmd'>!=</a></nobr></td><td>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::==" title="==" class='ruff_cmd'>==</a></nobr></td><td>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::BaseChangeMatrix" title="BaseChangeMatrix" class='ruff_cmd'>BaseChangeMatrix</a></nobr></td><td>Gets the base change matrix</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::BaseClass" title="BaseClass" class='ruff_cmd'>BaseClass</a></nobr></td><td>Gets the base class (Matrix obj)</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::GetType" title="GetType" class='ruff_cmd'>GetType</a></nobr></td><td>Gets the name of class.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Invert" title="Invert" class='ruff_cmd'>Invert</a></nobr></td><td>Inverts this coordinate system</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::OffsetBy" title="OffsetBy" class='ruff_cmd'>OffsetBy</a></nobr></td><td>Translates a coordinate system</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::OffsetToBase" title="OffsetToBase" class='ruff_cmd'>OffsetToBase</a></nobr></td><td>Gets the offset to origin</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Origin" title="Origin" class='ruff_cmd'>Origin</a></nobr></td><td>Gets the Origin</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ResetRotations" title="ResetRotations" class='ruff_cmd'>ResetRotations</a></nobr></td><td>Resets rotations preserves scales</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::RotateCoordSysAroundVector" title="RotateCoordSysAroundVector" class='ruff_cmd'>RotateCoordSysAroundVector</a></nobr></td><td>Rotates a coordinate system around a vector</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::RotateNoReset" title="RotateNoReset" class='ruff_cmd'>RotateNoReset</a></nobr></td><td>Rotate without Reset</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::SetTranslation" title="SetTranslation" class='ruff_cmd'>SetTranslation</a></nobr></td><td>Gets a translation coordinate system</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ToString" title="ToString" class='ruff_cmd'>ToString</a></nobr></td><td>Returns a string representation of this object.</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Transform" title="Transform" class='ruff_cmd'>Transform</a></nobr></td><td>Transforms...</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformBy" title="TransformBy" class='ruff_cmd'>TransformBy</a></nobr></td><td>Transforms...</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformFromCoordSys" title="TransformFromCoordSys" class='ruff_cmd'>TransformFromCoordSys</a></nobr></td><td>Transforms obj according to the inverse of this change matrix</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformToCoordSys" title="TransformToCoordSys" class='ruff_cmd'>TransformToCoordSys</a></nobr></td><td>Transforms obj according to this change matrix</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TranslateCsys" title="TranslateCsys" class='ruff_cmd'>TranslateCsys</a></nobr></td><td>Translates a coordinate system follow vector and distance</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::XAxis" title="XAxis" class='ruff_cmd'>XAxis</a></nobr></td><td>Gets the X Axis</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::YAxis" title="YAxis" class='ruff_cmd'>YAxis</a></nobr></td><td>Gets the Y Axis</td></tr>
<tr><td><nobr><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ZAxis" title="ZAxis" class='ruff_cmd'>ZAxis</a></nobr></td><td>Gets the Z Axis</td></tr>
</table>
<h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::constructor'>constructor</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a new Coordinate System Class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Csys create OBJNAME</span> <span class='ruff_arg'>?args?</span><br><span class='ruff_cmd'>Csys new</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>args</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>4 values</code></nobr></td><td>4 distinct values :<br> The first value represents the origin <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a><br> The second value represents the Xaxis <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> The third value represents the Yaxis <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> The fourth value represents the Zaxis <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br></td></tr>
<tr><td><nobr><code>Matrix</code></nobr></td><td>A Matrix. <a href="tomato-tomato-mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a><br> Xaxis  == Column 0<br> Yaxis  == Column 1<br> Zaxis  == Column 2<br> Origin == Column 3</td></tr>
<tr><td><nobr><code>no values</code></nobr></td><td>default<br> <code>Origin(0.0, 0.0, 0.0)</code><br> <code>Xaxis(1.0, 0.0, 0.0)</code><br> <code>Yaxis(0.0, 1.0, 0.0)</code><br> <code>Zaxis(0.0, 0.0, 1.0)</code><br></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>An error exception is raised if <code>args</code> is not the one desired.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_constructor' href="javascript:toggleSource('tomato_mathcsys_Csys_constructor')">Show source</a></p>
<div id='tomato_mathcsys_Csys_constructor' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> constructor {args} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Initializes a new Coordinate System Class.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # args - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Matrix     - A Matrix. [mathmatrix::Matrix]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              Xaxis  == Column 0&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              Yaxis  == Column 1&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              Zaxis  == Column 2&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              Origin == Column 3</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # 4 values   - 4 distinct values :&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              The first value represents the origin [mathpt3d::Point3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              The second value represents the Xaxis [mathvec3d::Vector3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              The third value represents the Yaxis [mathvec3d::Vector3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              The fourth value represents the Zaxis [mathvec3d::Vector3d]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # no values  - default&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              `Origin(0.0, 0.0, 0.0)`&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              `Xaxis(1.0, 0.0, 0.0)`&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              `Yaxis(0.0, 1.0, 0.0)`&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #              `Zaxis(0.0, 0.0, 1.0)`&lt;br&gt;</span>

    if {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 1} {

        if {[tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$args</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Matrix&quot;</span>]} {

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _baseclass <span style="color: rgb(233, 98, 98);">$args</span>
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _xaxis   [tomato::mathvec3d::Vector3d new [lrange [<span style="color: rgb(233, 98, 98);">$_baseclass</span> GetColumn 0] 0 2]]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _yaxis   [tomato::mathvec3d::Vector3d new [lrange [<span style="color: rgb(233, 98, 98);">$_baseclass</span> GetColumn 1] 0 2]]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _zaxis   [tomato::mathvec3d::Vector3d new [lrange [<span style="color: rgb(233, 98, 98);">$_baseclass</span> GetColumn 2] 0 2]]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _origin  [tomato::mathpt3d::Point3d   new [lrange [<span style="color: rgb(233, 98, 98);">$_baseclass</span> GetColumn 3] 0 2]]
        } else {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Must be a matrix if args equal to 1...&quot;</span>
        }

    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 4} {

        foreach obj <span style="color: rgb(233, 98, 98);">$args</span> {
            if {![tomato::helper::IsaObject <span style="color: rgb(233, 98, 98);">$obj</span>]} {
                <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;\<span style="color: rgb(233, 98, 98);">$obj</span> must be a object...&quot;</span>
            }
        }

        lassign <span style="color: rgb(233, 98, 98);">$args</span> _or v1 v2 v3

        if {![tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$_or</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Point3d&quot;</span>]} {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;\[lindex <span style="color: rgb(233, 98, 98);">$args</span> 0\] must be a Point3d...&quot;</span>
        }

        foreach obj [list <span style="color: rgb(233, 98, 98);">$v1</span> <span style="color: rgb(233, 98, 98);">$v2</span> <span style="color: rgb(233, 98, 98);">$v3</span>] {
            if {![tomato::helper::TypeOf <span style="color: rgb(233, 98, 98);">$obj</span> Isa <span style="color: hsl(120, 71%, 16%);">&quot;Vector3d&quot;</span>]} {
                <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;\<span style="color: rgb(233, 98, 98);">$obj</span> must be a Vector3d...&quot;</span>
            }
        }

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [tomato::mathmatrix::Matrix new 4 4]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _baseclass <span style="color: rgb(233, 98, 98);">$mat</span>

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _xaxis   <span style="color: rgb(233, 98, 98);">$v1</span>
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _yaxis   <span style="color: rgb(233, 98, 98);">$v2</span>
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _zaxis   <span style="color: rgb(233, 98, 98);">$v3</span>
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _origin <span style="color: rgb(233, 98, 98);">$_or</span>

        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 0 [list {*}[<span style="color: rgb(233, 98, 98);">$_xaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 1 [list {*}[<span style="color: rgb(233, 98, 98);">$_yaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 2 [list {*}[<span style="color: rgb(233, 98, 98);">$_zaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 3 [list {*}[<span style="color: rgb(233, 98, 98);">$_origin</span> Get] 1]

    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 0} {
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # default values</span>
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [tomato::mathmatrix::Matrix new 4 4]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _baseclass <span style="color: rgb(233, 98, 98);">$mat</span>

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _xaxis  [tomato::mathvec3d::UnitX]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _yaxis  [tomato::mathvec3d::UnitY]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _zaxis  [tomato::mathvec3d::UnitZ]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> _origin [tomato::mathpt3d::Point3d new 0 0 0]

        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 0 [list {*}[<span style="color: rgb(233, 98, 98);">$_xaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 1 [list {*}[<span style="color: rgb(233, 98, 98);">$_yaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 2 [list {*}[<span style="color: rgb(233, 98, 98);">$_zaxis</span> Get] 0]
        <span style="color: rgb(233, 98, 98);">$mat</span> SetColumn 3 [list {*}[<span style="color: rgb(233, 98, 98);">$_origin</span> Get] 1]
    } else {
        #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if `args` is not the one desired.</span>
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;The argument does not match the requested values, please refer to the documentation...&quot;</span>
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::!='>!=</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ !=</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>other</code></nobr></td><td>The second coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a> to compare.</td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the coordinate system are different. Otherwise <code>False</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys__=' href="javascript:toggleSource('tomato_mathcsys_Csys__=')">Show source</a></p>
<div id='tomato_mathcsys_Csys__=' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> != {other {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other - The second coordinate system [Csys] to compare.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the coordinate system are different. Otherwise `False`.</span>
    if {[llength [info level 0]] &lt; 4} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {![tomato::mathcsys::Equals [self] <span style="color: rgb(233, 98, 98);">$other</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::=='>==</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ ==</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>other</code></nobr></td><td>The second coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a> to compare.</td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the coordinate system are the same. Otherwise <code>False</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_==' href="javascript:toggleSource('tomato_mathcsys_Csys_==')">Show source</a></p>
<div id='tomato_mathcsys_Csys_==' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> == {other {tolerance {<span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>}}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets value that indicates whether each pair of elements in two specified coordinate system is equal.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other     - The second coordinate system [Csys] to compare.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the coordinate system are the same. Otherwise `False`.</span>
    if {[llength [info level 0]] &lt; 4} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> tolerance <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>
    }

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {[tomato::mathcsys::Equals [self] <span style="color: rgb(233, 98, 98);">$other</span> <span style="color: rgb(233, 98, 98);">$tolerance</span>]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::BaseChangeMatrix'>BaseChangeMatrix</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the base change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ BaseChangeMatrix</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A matrix <a href="tomato-tomato-mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_BaseChangeMatrix' href="javascript:toggleSource('tomato_mathcsys_Csys_BaseChangeMatrix')">Show source</a></p>
<div id='tomato_mathcsys_Csys_BaseChangeMatrix' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> BaseChangeMatrix {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the base change matrix</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A matrix [mathmatrix::Matrix]</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> matrix [tomato::mathcsys::GetRotationSubMatrix [self]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cs [tomato::mathcsys::SetRotationSubMatrix [<span style="color: rgb(233, 98, 98);">$matrix</span> Transpose] [self]]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$cs</span> BaseClass]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::BaseClass'>BaseClass</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the base class (Matrix obj)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ BaseClass</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_BaseClass' href="javascript:toggleSource('tomato_mathcsys_Csys_BaseClass')">Show source</a></p>
<div id='tomato_mathcsys_Csys_BaseClass' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> BaseClass {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the base class (Matrix obj)</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_baseclass</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::GetType'>GetType</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the name of class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ GetType</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_GetType' href="javascript:toggleSource('tomato_mathcsys_Csys_GetType')">Show source</a></p>
<div id='tomato_mathcsys_Csys_GetType' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> GetType {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the name of class.</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::helper::TypeClass [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Invert'>Invert</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inverts this coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ Invert</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns An inverted coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_Invert' href="javascript:toggleSource('tomato_mathcsys_Csys_Invert')">Show source</a></p>
<div id='tomato_mathcsys_Csys_Invert' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Invert {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Inverts this coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns An inverted coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [[my BaseClass] Inverse]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::OffsetBy'>OffsetBy</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Translates a coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ OffsetBy</span> <span class='ruff_arg'>v</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>v</code></nobr></td><td>a translation vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A new translated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_OffsetBy' href="javascript:toggleSource('tomato_mathcsys_Csys_OffsetBy')">Show source</a></p>
<div id='tomato_mathcsys_Csys_OffsetBy' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> OffsetBy {v} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Translates a coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # v - a translation vector [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A new translated coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> vnormalize [<span style="color: rgb(233, 98, 98);">$v</span> Normalized]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [[my Origin] + <span style="color: rgb(233, 98, 98);">$vnormalize</span>] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::OffsetToBase'>OffsetToBase</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the offset to origin</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ OffsetToBase</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_OffsetToBase' href="javascript:toggleSource('tomato_mathcsys_Csys_OffsetToBase')">Show source</a></p>
<div id='tomato_mathcsys_Csys_OffsetToBase' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> OffsetToBase {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the offset to origin</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A vector [mathvec3d::Vector3d]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$_origin</span> ToVector3D]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Origin'>Origin</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Origin</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ Origin</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_Origin' href="javascript:toggleSource('tomato_mathcsys_Csys_Origin')">Show source</a></p>
<div id='tomato_mathcsys_Csys_Origin' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Origin {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Origin</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A point [mathpt3d::Point3d]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_origin</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ResetRotations'>ResetRotations</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Resets rotations preserves scales</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ ResetRotations</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A new coordinate system with reset rotation <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_ResetRotations' href="javascript:toggleSource('tomato_mathcsys_Csys_ResetRotations')">Show source</a></p>
<div id='tomato_mathcsys_Csys_ResetRotations' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> ResetRotations {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Resets rotations preserves scales</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A new coordinate system with reset rotation [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> x [[[my XAxis] Length] * [tomato::mathvec3d::UnitX]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> y [[[my YAxis] Length] * [tomato::mathvec3d::UnitY]]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> z [[[my ZAxis] Length] * [tomato::mathvec3d::UnitZ]]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [my Origin] <span style="color: rgb(233, 98, 98);">$x</span> <span style="color: rgb(233, 98, 98);">$y</span> <span style="color: rgb(233, 98, 98);">$z</span>]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::RotateCoordSysAroundVector'>RotateCoordSysAroundVector</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates a coordinate system around a vector</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ RotateCoordSysAroundVector</span> <span class='ruff_arg'>about angle</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>about</code></nobr></td><td>A vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td><nobr><code>angle</code></nobr></td><td>An angle in degrees</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_RotateCoordSysAroundVector' href="javascript:toggleSource('tomato_mathcsys_Csys_RotateCoordSysAroundVector')">Show source</a></p>
<div id='tomato_mathcsys_Csys_RotateCoordSysAroundVector' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> RotateCoordSysAroundVector {about angle} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotates a coordinate system around a vector</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # about - A vector [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # angle - An angle in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rcs [tomato::mathcsys::RotationAngleVector <span style="color: rgb(233, 98, 98);">$angle</span> <span style="color: rgb(233, 98, 98);">$about</span>]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$rcs</span> Transform [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::RotateNoReset'>RotateNoReset</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotate without Reset</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ RotateNoReset</span> <span class='ruff_arg'>yaw pitch roll</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>yaw</code></nobr></td><td>The yaw</td></tr>
<tr><td><nobr><code>pitch</code></nobr></td><td>The pitch</td></tr>
<tr><td><nobr><code>roll</code></nobr></td><td>The roll</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_RotateNoReset' href="javascript:toggleSource('tomato_mathcsys_Csys_RotateNoReset')">Show source</a></p>
<div id='tomato_mathcsys_Csys_RotateNoReset' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> RotateNoReset {yaw pitch roll} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotate without Reset</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # yaw - The yaw</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # pitch - The pitch</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # roll - The roll</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rcs [tomato::mathcsys::RotationByAngles <span style="color: rgb(233, 98, 98);">$yaw</span> <span style="color: rgb(233, 98, 98);">$pitch</span> <span style="color: rgb(233, 98, 98);">$roll</span>]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$rcs</span> Transform [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::SetTranslation'>SetTranslation</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a translation coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ SetTranslation</span> <span class='ruff_arg'>v</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>v</code></nobr></td><td><a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A new coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_SetTranslation' href="javascript:toggleSource('tomato_mathcsys_Csys_SetTranslation')">Show source</a></p>
<div id='tomato_mathcsys_Csys_SetTranslation' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> SetTranslation {v} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets a translation coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # v - [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A new coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [<span style="color: rgb(233, 98, 98);">$v</span> ToPoint3D] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ToString'>ToString</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ ToString</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_ToString' href="javascript:toggleSource('tomato_mathcsys_Csys_ToString')">Show source</a></p>
<div id='tomato_mathcsys_Csys_ToString' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> ToString {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns a string representation of this object.</span>
    lappend infocsys [list Origin: [<span style="color: rgb(233, 98, 98);">$_origin</span> ToString]]
    lappend infocsys [list XAxis: [<span style="color: rgb(233, 98, 98);">$_xaxis</span> ToString]]
    lappend infocsys [list YAxis: [<span style="color: rgb(233, 98, 98);">$_yaxis</span> ToString]]
    lappend infocsys [list ZAxis: [<span style="color: rgb(233, 98, 98);">$_zaxis</span> ToString]]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [join <span style="color: rgb(233, 98, 98);">$infocsys</span> <span style="color: hsl(120, 71%, 16%);">&quot;, &quot;</span>]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Transform'>Transform</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ Transform</span> <span class='ruff_arg'>obj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>Csys</code></nobr></td><td><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td><nobr><code>Point3d</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>Ray3d</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
<tr><td><nobr><code>Vector3d</code></nobr></td><td><a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a new obj transformed</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_Transform' href="javascript:toggleSource('tomato_mathcsys_Csys_Transform')">Show source</a></p>
<div id='tomato_mathcsys_Csys_Transform' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> Transform {obj} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Transforms...</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Csys     - [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Vector3d - [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point3d  - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Ray3d    - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns a new obj transformed</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Csys {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [[my BaseClass] Multiply [<span style="color: rgb(233, 98, 98);">$obj</span> BaseClass]]]
        }
        *Vector3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> matrix [tomato::mathcsys::GetRotationSubMatrix [self]]
            lassign [<span style="color: rgb(233, 98, 98);">$matrix</span> Multiply <span style="color: rgb(233, 98, 98);">$obj</span>] x y z

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$x</span> <span style="color: rgb(233, 98, 98);">$y</span> <span style="color: rgb(233, 98, 98);">$z</span>]
        }
        *Point3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [tomato::mathmatrix::Matrix new 1 4]
            <span style="color: rgb(233, 98, 98);">$mat</span> SetRow 0 [list {*}[<span style="color: rgb(233, 98, 98);">$obj</span> Get] 1]

            lassign [[my BaseClass] Multiply <span style="color: rgb(233, 98, 98);">$mat</span>] x y z

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathpt3d::Point3d new <span style="color: rgb(233, 98, 98);">$x</span> <span style="color: rgb(233, 98, 98);">$y</span> <span style="color: rgb(233, 98, 98);">$z</span>]
        }
        *Ray3d {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathray3d::Ray3d new [my Transform [<span style="color: rgb(233, 98, 98);">$obj</span> ThroughPoint]] [my Transform [<span style="color: rgb(233, 98, 98);">$obj</span> Direction]]]
        }
        default {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Entity must be Csys, Vector3d, Point3d or Ray3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformBy'>TransformBy</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ TransformBy</span> <span class='ruff_arg'>obj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>Csys</code></nobr></td><td><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td><nobr><code>Matrix</code></nobr></td><td><a href="tomato-tomato-mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns this by the coordinate system and returns the transformed if csys or a transformed coordinate system if matrix.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_TransformBy' href="javascript:toggleSource('tomato_mathcsys_Csys_TransformBy')">Show source</a></p>
<div id='tomato_mathcsys_Csys_TransformBy' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> TransformBy {obj} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Transforms...</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Csys   - [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Matrix - [mathmatrix::Matrix]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns this by the coordinate system and returns the transformed if csys or a transformed coordinate system if matrix.</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Csys {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$obj</span> Transform [self]]
        }
        *Matrix {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [<span style="color: rgb(233, 98, 98);">$obj</span> Multiply [my BaseClass]]]
        }
        default {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Entity must be Csys or Matrix...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformFromCoordSys'>TransformFromCoordSys</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms obj according to the inverse of this change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ TransformFromCoordSys</span> <span class='ruff_arg'>obj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>Point3d</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>Ray3d</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a transformed point <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a> if Point3d or a transformed ray if Ray3d.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_TransformFromCoordSys' href="javascript:toggleSource('tomato_mathcsys_Csys_TransformFromCoordSys')">Show source</a></p>
<div id='tomato_mathcsys_Csys_TransformFromCoordSys' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> TransformFromCoordSys {obj} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Transforms obj according to the inverse of this change matrix</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Ray3d   - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point3d - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns a transformed point [mathpt3d::Point3d] if Point3d or a transformed ray if Ray3d.</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Ray3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p  [<span style="color: rgb(233, 98, 98);">$obj</span> ThroughPoint]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> uv [<span style="color: rgb(233, 98, 98);">$obj</span> Direction]

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> baseChangeMatrix [my BaseChangeMatrix]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> matinv    [<span style="color: rgb(233, 98, 98);">$baseChangeMatrix</span> Inverse]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mattocsys [<span style="color: rgb(233, 98, 98);">$matinv</span> ToCsys]

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> point [[<span style="color: rgb(233, 98, 98);">$mattocsys</span> Transform <span style="color: rgb(233, 98, 98);">$p</span>] + [my OffsetToBase]]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> direction [<span style="color: rgb(233, 98, 98);">$mattocsys</span> Transform <span style="color: rgb(233, 98, 98);">$uv</span>]

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathray3d::Ray3d new <span style="color: rgb(233, 98, 98);">$point</span> <span style="color: rgb(233, 98, 98);">$direction</span>]
        }
        *Point3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> baseChangeMatrix [my BaseChangeMatrix]
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [[[[<span style="color: rgb(233, 98, 98);">$baseChangeMatrix</span> Inverse] ToCsys] Transform <span style="color: rgb(233, 98, 98);">$obj</span>] + [my OffsetToBase]]
        }
        default {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Entity must be Ray3d Or Point3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformToCoordSys'>TransformToCoordSys</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms obj according to this change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ TransformToCoordSys</span> <span class='ruff_arg'>obj</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>obj</code></nobr></td><td>Options described below.</td></tr>
<tr><td><nobr><code>Point3d</code></nobr></td><td><a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td><nobr><code>Ray3d</code></nobr></td><td><a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a transformed point if Point3d or a transformed ray <a href="tomato-tomato-mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a> if Ray3d.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_TransformToCoordSys' href="javascript:toggleSource('tomato_mathcsys_Csys_TransformToCoordSys')">Show source</a></p>
<div id='tomato_mathcsys_Csys_TransformToCoordSys' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> TransformToCoordSys {obj} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Transforms obj according to this change matrix</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # obj - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Ray3d   - [mathray3d::Ray3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Point3d - [mathpt3d::Point3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns a transformed point if Point3d or a transformed ray [mathray3d::Ray3d] if Ray3d.</span>

    switch -glob [<span style="color: rgb(233, 98, 98);">$obj</span> GetType] {
        *Ray3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p  [<span style="color: rgb(233, 98, 98);">$obj</span> ThroughPoint]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> uv [<span style="color: rgb(233, 98, 98);">$obj</span> Direction]

            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> baseChangeMatrix [my BaseChangeMatrix]

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">            # The position and the vector are transformed</span>
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> point [[[<span style="color: rgb(233, 98, 98);">$baseChangeMatrix</span> ToCsys] Transform <span style="color: rgb(233, 98, 98);">$p</span>] + [my OffsetToBase]]
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> direction [<span style="color: rgb(233, 98, 98);">$uv</span> TransformBy <span style="color: rgb(233, 98, 98);">$baseChangeMatrix</span>]

            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathray3d::Ray3d new <span style="color: rgb(233, 98, 98);">$point</span> <span style="color: rgb(233, 98, 98);">$direction</span>]
        }
        *Point3d {
            <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> baseChangeMatrix [my BaseChangeMatrix]
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [[[<span style="color: rgb(233, 98, 98);">$baseChangeMatrix</span> ToCsys] Transform <span style="color: rgb(233, 98, 98);">$obj</span>] + [my OffsetToBase]]
        }
        default {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;Entity must be Ray3d Or Point3d...&quot;</span>
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TranslateCsys'>TranslateCsys</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Translates a coordinate system follow vector and distance</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ TranslateCsys</span> <span class='ruff_arg'>v d</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>v</code></nobr></td><td>a translation vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td><nobr><code>d</code></nobr></td><td>Distance translation</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A new translated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_TranslateCsys' href="javascript:toggleSource('tomato_mathcsys_Csys_TranslateCsys')">Show source</a></p>
<div id='tomato_mathcsys_Csys_TranslateCsys' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> TranslateCsys {v d} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Translates a coordinate system follow vector and distance</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # v - a translation vector [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # d - Distance translation</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A new translated coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [[my Origin] TranslatePoint <span style="color: rgb(233, 98, 98);">$v</span> <span style="color: rgb(233, 98, 98);">$d</span>] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::XAxis'>XAxis</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the X Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ XAxis</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_XAxis' href="javascript:toggleSource('tomato_mathcsys_Csys_XAxis')">Show source</a></p>
<div id='tomato_mathcsys_Csys_XAxis' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> XAxis {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the X Axis</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A vector [mathvec3d::Vector3d]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_xaxis</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::YAxis'>YAxis</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Y Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ YAxis</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_YAxis' href="javascript:toggleSource('tomato_mathcsys_Csys_YAxis')">Show source</a></p>
<div id='tomato_mathcsys_Csys_YAxis' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> YAxis {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Y Axis</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A vector [mathvec3d::Vector3d]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_yaxis</span>
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ZAxis'>ZAxis</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='ruff-uplink'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Z Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CSYSOBJ ZAxis</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Csys_ZAxis' href="javascript:toggleSource('tomato_mathcsys_Csys_ZAxis')">Show source</a></p>
<div id='tomato_mathcsys_Csys_ZAxis' class='ruff_dyn_src'><pre><span style="color: rgba(241, 8, 218, 1);font-weight: 550;">method</span> ZAxis {} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets the Z Axis</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A vector [mathvec3d::Vector3d]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$_zaxis</span>
}</pre></div>
</div><h2 class='ruff'><a name='::tomato::mathcsys-Commands'></a>Commands<span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffproc'><a name='::tomato::mathcsys::CreateMappingCoordinateSystem'>CreateMappingCoordinateSystem</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Creates a coordinate system that maps from the <code>from</code> coordinate system to the <code>to</code> coordinate system.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateMappingCoordinateSystem</span> <span class='ruff_arg'>fromCs toCs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>fromCs</code></nobr></td><td>The from coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td><nobr><code>toCs</code></nobr></td><td>The to coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A mapping coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_CreateMappingCoordinateSystem' href="javascript:toggleSource('tomato_mathcsys_CreateMappingCoordinateSystem')">Show source</a></p>
<div id='tomato_mathcsys_CreateMappingCoordinateSystem' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::CreateMappingCoordinateSystem {fromCs toCs} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Creates a coordinate system that maps from the `from` coordinate system to the `to` coordinate system.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromCs - The from coordinate system [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toCs   - The to coordinate system [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A mapping coordinate system [Csys]</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> singular 0
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> det -1

    try {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> det [[<span style="color: rgb(233, 98, 98);">$fromCs</span> BaseClass] Determinant]
    } trap {singular} {} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> singular 1
    } on <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> {msg} {
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: rgb(233, 98, 98);">$msg</span>
    }

    if {<span style="color: rgb(233, 98, 98);">$singular</span> || (abs(<span style="color: rgb(233, 98, 98);">$det</span>) &lt; <span style="color: rgb(233, 98, 98);">$::tomato::helper::TolEquals</span>)} {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [[<span style="color: rgb(233, 98, 98);">$toCs</span> BaseClass] Multiply [<span style="color: rgb(233, 98, 98);">$fromCs</span> BaseClass]]
    } else {
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [[<span style="color: rgb(233, 98, 98);">$toCs</span> BaseClass] Multiply [[<span style="color: rgb(233, 98, 98);">$fromCs</span> BaseClass] Inverse]]
    }

    <span style="color: rgb(233, 98, 98);">$mat</span> SetCell 3 3 1.0

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$mat</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Equals'>Equals</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Indicate if this coordinate system is equivalent to a another coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Equals</span> <span class='ruff_arg'>cs other tolerance</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>cs</code></nobr></td><td>First input coordinate system  <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td><nobr><code>other</code></nobr></td><td>Second input coordinate system  <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td><nobr><code>tolerance</code></nobr></td><td>A tolerance (epsilon) to adjust for floating point error</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>See : methods == !=</p>
<p class='ruff'>An error exception is raised if tolerance (epsilon) &lt; 0.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns <code>True</code> if the coordinate system are equal, otherwise false.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Equals' href="javascript:toggleSource('tomato_mathcsys_Equals')">Show source</a></p>
<div id='tomato_mathcsys_Equals' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Equals {cs other tolerance} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Indicate if this coordinate system is equivalent to a another coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # cs - First input coordinate system  [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # other - Second input coordinate system  [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # tolerance - A tolerance (epsilon) to adjust for floating point error</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns `True` if the coordinate system are equal, otherwise false.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # See : methods == !=</span>
    if {<span style="color: rgb(233, 98, 98);">$tolerance</span> &lt; 0} {
        #ruff
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">        # An <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> exception is raised if tolerance (epsilon) &lt; 0.</span>
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;epsilon &lt; 0&quot;</span>
    }
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [expr {
                  [tomato::mathpt3d::Equals  [<span style="color: rgb(233, 98, 98);">$cs</span> Origin] [<span style="color: rgb(233, 98, 98);">$other</span> Origin] <span style="color: rgb(233, 98, 98);">$tolerance</span>] &amp;&amp;
                  [tomato::mathvec3d::Equals [<span style="color: rgb(233, 98, 98);">$cs</span> XAxis] [<span style="color: rgb(233, 98, 98);">$other</span> XAxis] <span style="color: rgb(233, 98, 98);">$tolerance</span>] &amp;&amp;
                  [tomato::mathvec3d::Equals [<span style="color: rgb(233, 98, 98);">$cs</span> YAxis] [<span style="color: rgb(233, 98, 98);">$other</span> YAxis] <span style="color: rgb(233, 98, 98);">$tolerance</span>] &amp;&amp;
                  [tomato::mathvec3d::Equals [<span style="color: rgb(233, 98, 98);">$cs</span> ZAxis] [<span style="color: rgb(233, 98, 98);">$other</span> ZAxis] <span style="color: rgb(233, 98, 98);">$tolerance</span>]
                }]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::GetRotationSubMatrix'>GetRotationSubMatrix</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Gets a rotation submatrix from a coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetRotationSubMatrix</span> <span class='ruff_arg'>coordinateSystem</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>coordinateSystem</code></nobr></td><td><a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotation matrix <a href="tomato-tomato-mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_GetRotationSubMatrix' href="javascript:toggleSource('tomato_mathcsys_GetRotationSubMatrix')">Show source</a></p>
<div id='tomato_mathcsys_GetRotationSubMatrix' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::GetRotationSubMatrix {coordinateSystem} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gets a rotation submatrix from a coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # coordinateSystem - [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotation matrix [mathmatrix::Matrix]</span>
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> csbase [<span style="color: rgb(233, 98, 98);">$coordinateSystem</span> BaseClass]
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [<span style="color: rgb(233, 98, 98);">$csbase</span> SubMatrix 0 3 0 3]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Parse'>Parse</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Transform a list to coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Parse</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>args</code></nobr></td><td>Options described below.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The first  value represents the origin [Tcl list]<br> The second value represents the Xaxis [Tcl list]<br> The third  value represents the Yaxis [Tcl list]<br> The fourth value represents the Zaxis [Tcl list]<br></p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A new coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Parse' href="javascript:toggleSource('tomato_mathcsys_Parse')">Show source</a></p>
<div id='tomato_mathcsys_Parse' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Parse {args} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Transform a list to coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # args - Options described below.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The first  value represents the origin \[Tcl list]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The second value represents the Xaxis \[Tcl list]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The third  value represents the Yaxis \[Tcl list]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The fourth value represents the Zaxis \[Tcl list]&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A new coordinate system [Csys]</span>

    if {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 1} {

        if {[llength {*}<span style="color: rgb(233, 98, 98);">$args</span>] != 4} {
            <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;must be a list 4 elements...&quot;</span>
        }

        lassign {*}<span style="color: rgb(233, 98, 98);">$args</span> or vx vy vz

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p  [tomato::mathpt3d::Point3d new <span style="color: rgb(233, 98, 98);">$or</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v1 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vx</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v2 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vy</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v3 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vz</span>]

        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$p</span> <span style="color: rgb(233, 98, 98);">$v1</span> <span style="color: rgb(233, 98, 98);">$v2</span> <span style="color: rgb(233, 98, 98);">$v3</span>]

    } elseif {[llength <span style="color: rgb(233, 98, 98);">$args</span>] == 4} {

        lassign <span style="color: rgb(233, 98, 98);">$args</span> or vx vy vz

        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> p  [tomato::mathpt3d::Point3d new <span style="color: rgb(233, 98, 98);">$or</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v1 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vx</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v2 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vy</span>]
        <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> v3 [tomato::mathvec3d::Vector3d new <span style="color: rgb(233, 98, 98);">$vz</span>]

        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$p</span> <span style="color: rgb(233, 98, 98);">$v1</span> <span style="color: rgb(233, 98, 98);">$v2</span> <span style="color: rgb(233, 98, 98);">$v3</span>]

    } else {
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;must be a list of 1 with 4 sub lists or 4 elements...&quot;</span>
    }
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Pitch'>Pitch</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around Y</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Pitch</span> <span class='ruff_arg'>av</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>av</code></nobr></td><td>Angle  in degrees</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Pitch' href="javascript:toggleSource('tomato_mathcsys_Pitch')">Show source</a></p>
<div id='tomato_mathcsys_Pitch' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Pitch {av} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotates around Y</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # av - Angle  in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::RotationAngleVector <span style="color: rgb(233, 98, 98);">$av</span> [tomato::mathvec3d::UnitY]]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Roll'>Roll</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around X</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Roll</span> <span class='ruff_arg'>av</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>av</code></nobr></td><td>Angle  in degrees</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Roll' href="javascript:toggleSource('tomato_mathcsys_Roll')">Show source</a></p>
<div id='tomato_mathcsys_Roll' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Roll {av} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotates around X</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # av - Angle  in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::RotationAngleVector <span style="color: rgb(233, 98, 98);">$av</span> [tomato::mathvec3d::UnitX]]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::RotateTo'>RotateTo</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Sets to the matrix of rotation that aligns the <code>from</code> vector with the <code>to</code> vector.<br> The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions<br> to specify a specific solution, but is otherwise ignored.<br></p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotateTo</span> <span class='ruff_arg'>fromVector3D toVector3D ?axis?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>fromVector3D</code></nobr></td><td>Input Vector object to align from.</td></tr>
<tr><td><nobr><code>toVector3D</code></nobr></td><td>Input Vector object to align to.</td></tr>
<tr><td><nobr><code>axis</code></nobr></td><td>Input Vector object. Optional, default <code>null</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_RotateTo' href="javascript:toggleSource('tomato_mathcsys_RotateTo')">Show source</a></p>
<div id='tomato_mathcsys_RotateTo' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotateTo {fromVector3D toVector3D {axis null}} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Sets to the matrix of rotation that aligns the `from` vector with the `to` vector.&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # to specify a specific solution, but is otherwise ignored.&lt;br&gt;</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromVector3D - Input Vector object to align from.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toVector3D   - Input Vector object to align to.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # axis         - Input Vector object.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> r [tomato::mathmatrix3d::RotationTo <span style="color: rgb(233, 98, 98);">$fromVector3D</span> <span style="color: rgb(233, 98, 98);">$toVector3D</span> <span style="color: rgb(233, 98, 98);">$axis</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> coordinateSystem [tomato::mathcsys::Csys new]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::SetRotationSubMatrix <span style="color: rgb(233, 98, 98);">$r</span> <span style="color: rgb(233, 98, 98);">$coordinateSystem</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::RotationAngleVector'>RotationAngleVector</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Creates a rotating coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotationAngleVector</span> <span class='ruff_arg'>angle v</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>angle</code></nobr></td><td>Angle to rotate in degrees</td></tr>
<tr><td><nobr><code>v</code></nobr></td><td>Vector to rotate about <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotating coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_RotationAngleVector' href="javascript:toggleSource('tomato_mathcsys_RotationAngleVector')">Show source</a></p>
<div id='tomato_mathcsys_RotationAngleVector' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotationAngleVector {angle v} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Creates a rotating coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # angle - Angle to rotate in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # v   - Vector to rotate about [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotating coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mat [tomato::mathmatrix::Matrix new 4 4]
    <span style="color: rgb(233, 98, 98);">$mat</span> SetSubMatrix 0 3 0 3 [tomato::mathmatrix3d::RotationAroundArbitraryVector  [<span style="color: rgb(233, 98, 98);">$v</span> Normalized]  [tomato::helper::DegreesToRadians <span style="color: rgb(233, 98, 98);">$angle</span>]  ]

    <span style="color: rgb(233, 98, 98);">$mat</span> SetCell 3 3 1.0

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$mat</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::RotationByAngles'>RotationByAngles</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Successive intrinsic rotations around Z (yaw) then around Y (pitch) and then around X (roll) Gives an order of magnitude speed improvement. https://en.wikipedia.org/wiki/Rotation_matrix#General_rotations</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotationByAngles</span> <span class='ruff_arg'>yaw pitch roll</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>yaw</code></nobr></td><td>Rotates around Z (angle in degrees)</td></tr>
<tr><td><nobr><code>pitch</code></nobr></td><td>Rotates around Y (angle in degrees)</td></tr>
<tr><td><nobr><code>roll</code></nobr></td><td>Rotates around X (angle in degrees)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_RotationByAngles' href="javascript:toggleSource('tomato_mathcsys_RotationByAngles')">Show source</a></p>
<div id='tomato_mathcsys_RotationByAngles' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotationByAngles {yaw pitch roll} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Successive intrinsic rotations around Z (yaw) then around Y (pitch) and then around X (roll)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Gives an order of magnitude speed improvement.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # https://en.wikipedia.org/wiki/Rotation_matrix#General_rotations</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # yaw   - Rotates around Z (angle in degrees)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # pitch - Rotates around Y (angle in degrees)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # roll  - Rotates around X (angle in degrees)</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> yR [tomato::helper::DegreesToRadians <span style="color: rgb(233, 98, 98);">$yaw</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> pR [tomato::helper::DegreesToRadians <span style="color: rgb(233, 98, 98);">$pitch</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> rR [tomato::helper::DegreesToRadians <span style="color: rgb(233, 98, 98);">$roll</span>]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cosY [expr {cos(<span style="color: rgb(233, 98, 98);">$yR</span>)}]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> sinY [expr {sin(<span style="color: rgb(233, 98, 98);">$yR</span>)}]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cosP [expr {cos(<span style="color: rgb(233, 98, 98);">$pR</span>)}]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> sinP [expr {sin(<span style="color: rgb(233, 98, 98);">$pR</span>)}]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cosR [expr {cos(<span style="color: rgb(233, 98, 98);">$rR</span>)}]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> sinR [expr {sin(<span style="color: rgb(233, 98, 98);">$rR</span>)}]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> origin [tomato::mathpt3d::Point3d new]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> xAxis  [tomato::mathvec3d::Vector3d new  [expr {<span style="color: rgb(233, 98, 98);">$cosY</span> * <span style="color: rgb(233, 98, 98);">$cosP</span>}]  [expr {<span style="color: rgb(233, 98, 98);">$sinY</span> * <span style="color: rgb(233, 98, 98);">$cosP</span>}]  [expr {Inv(<span style="color: rgb(233, 98, 98);">$sinP</span>)}]  ]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> yAxis  [tomato::mathvec3d::Vector3d new  [expr {(<span style="color: rgb(233, 98, 98);">$cosY</span> * <span style="color: rgb(233, 98, 98);">$sinP</span> * <span style="color: rgb(233, 98, 98);">$sinR</span>) - (<span style="color: rgb(233, 98, 98);">$sinY</span> * <span style="color: rgb(233, 98, 98);">$cosR</span>)}]  [expr {(<span style="color: rgb(233, 98, 98);">$sinY</span> * <span style="color: rgb(233, 98, 98);">$sinP</span> * <span style="color: rgb(233, 98, 98);">$sinR</span>) + (<span style="color: rgb(233, 98, 98);">$cosY</span> * <span style="color: rgb(233, 98, 98);">$cosR</span>)}]  [expr {<span style="color: rgb(233, 98, 98);">$cosP</span> * <span style="color: rgb(233, 98, 98);">$sinR</span>}]  ]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> zAxis  [tomato::mathvec3d::Vector3d new  [expr {(<span style="color: rgb(233, 98, 98);">$cosY</span> * <span style="color: rgb(233, 98, 98);">$sinP</span> * <span style="color: rgb(233, 98, 98);">$cosR</span>) + (<span style="color: rgb(233, 98, 98);">$sinY</span> * <span style="color: rgb(233, 98, 98);">$sinR</span>)}]  [expr {(<span style="color: rgb(233, 98, 98);">$sinY</span> * <span style="color: rgb(233, 98, 98);">$sinP</span> * <span style="color: rgb(233, 98, 98);">$cosR</span>) - (<span style="color: rgb(233, 98, 98);">$cosY</span> * <span style="color: rgb(233, 98, 98);">$sinR</span>)}]  [expr {<span style="color: rgb(233, 98, 98);">$cosP</span> * <span style="color: rgb(233, 98, 98);">$cosR</span>}]  ]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$origin</span> <span style="color: rgb(233, 98, 98);">$xAxis</span> <span style="color: rgb(233, 98, 98);">$yAxis</span> <span style="color: rgb(233, 98, 98);">$zAxis</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::SetRotationSubMatrix'>SetRotationSubMatrix</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Creates a rotating coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetRotationSubMatrix</span> <span class='ruff_arg'>r coordinateSystem</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>r</code></nobr></td><td>A 3x3 matrix with the rotation portion <a href="tomato-tomato-mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></td></tr>
<tr><td><nobr><code>coordinateSystem</code></nobr></td><td>A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotating coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_SetRotationSubMatrix' href="javascript:toggleSource('tomato_mathcsys_SetRotationSubMatrix')">Show source</a></p>
<div id='tomato_mathcsys_SetRotationSubMatrix' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::SetRotationSubMatrix {r coordinateSystem} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Creates a rotating coordinate system</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # r                  - A 3x3 matrix with the rotation portion [mathmatrix::Matrix]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # coordinateSystem   - A rotated coordinate system [Csys]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotating coordinate system [Csys]</span>
    if {[<span style="color: rgb(233, 98, 98);">$r</span> RowCount] != 3 || [<span style="color: rgb(233, 98, 98);">$r</span> ColumnCount] != 3} {
        <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">error</span> <span style="color: hsl(120, 71%, 16%);">&quot;[tomato::helper::TypeClass <span style="color: rgb(233, 98, 98);">$r</span>] must be Matrix3x3...&quot;</span>
    }

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cs [tomato::mathcsys::Csys new [<span style="color: rgb(233, 98, 98);">$coordinateSystem</span> Origin]  [<span style="color: rgb(233, 98, 98);">$coordinateSystem</span> XAxis]  [<span style="color: rgb(233, 98, 98);">$coordinateSystem</span> YAxis]  [<span style="color: rgb(233, 98, 98);">$coordinateSystem</span> ZAxis]  ]

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> csbase [<span style="color: rgb(233, 98, 98);">$cs</span> BaseClass]
    <span style="color: rgb(233, 98, 98);">$csbase</span> SetSubMatrix 0 [<span style="color: rgb(233, 98, 98);">$r</span> RowCount] 0 [<span style="color: rgb(233, 98, 98);">$r</span> ColumnCount] <span style="color: rgb(233, 98, 98);">$r</span>

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$csbase</span>]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::SetToAlignCoordinateSystems'>SetToAlignCoordinateSystems</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Sets this matrix to be the matrix that maps from the <code>from</code> coordinate system to the <code>to</code> coordinate system.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetToAlignCoordinateSystems</span> <span class='ruff_arg'>fromOrigin fromXAxis fromYAxis fromZAxis toOrigin toXAxis toYAxis toZAxis</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>fromOrigin</code></nobr></td><td>Input <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a>   that defines the origin to map the coordinate system from</td></tr>
<tr><td><nobr><code>fromXAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the X-axis to map the coordinate system from.</td></tr>
<tr><td><nobr><code>fromYAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the Y-axis to map the coordinate system from.</td></tr>
<tr><td><nobr><code>fromZAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the Z-axis to map the coordinate system from.</td></tr>
<tr><td><nobr><code>toOrigin</code></nobr></td><td>Input <a href="tomato-tomato-mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a>   that defines the origin to map the coordinate system to.</td></tr>
<tr><td><nobr><code>toXAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the X-axis to map the coordinate system to.</td></tr>
<tr><td><nobr><code>toYAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the Y-axis to map the coordinate system to.</td></tr>
<tr><td><nobr><code>toZAxis</code></nobr></td><td>Input <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> that defines the Z-axis to map the coordinate system to.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A mapping coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_SetToAlignCoordinateSystems' href="javascript:toggleSource('tomato_mathcsys_SetToAlignCoordinateSystems')">Show source</a></p>
<div id='tomato_mathcsys_SetToAlignCoordinateSystems' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::SetToAlignCoordinateSystems {fromOrigin fromXAxis fromYAxis fromZAxis toOrigin toXAxis toYAxis toZAxis} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Sets this matrix to be the matrix that maps from the `from` coordinate system to the `to` coordinate system.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromOrigin - Input [mathpt3d::Point3d]   that defines the origin to map the coordinate system from</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromXAxis  - Input [mathvec3d::Vector3d] that defines the X-axis to map the coordinate system from.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromYAxis  - Input [mathvec3d::Vector3d] that defines the Y-axis to map the coordinate system from.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # fromZAxis  - Input [mathvec3d::Vector3d] that defines the Z-axis to map the coordinate system from.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toOrigin   - Input [mathpt3d::Point3d]   that defines the origin to map the coordinate system to.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toXAxis    - Input [mathvec3d::Vector3d] that defines the X-axis to map the coordinate system to.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toYAxis    - Input [mathvec3d::Vector3d] that defines the Y-axis to map the coordinate system to.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # toZAxis    - Input [mathvec3d::Vector3d] that defines the Z-axis to map the coordinate system to.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A mapping coordinate system [Csys]</span>

    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cs1 [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$fromOrigin</span> <span style="color: rgb(233, 98, 98);">$fromXAxis</span> <span style="color: rgb(233, 98, 98);">$fromYAxis</span> <span style="color: rgb(233, 98, 98);">$fromZAxis</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> cs2 [tomato::mathcsys::Csys new <span style="color: rgb(233, 98, 98);">$toOrigin</span> <span style="color: rgb(233, 98, 98);">$toXAxis</span> <span style="color: rgb(233, 98, 98);">$toYAxis</span> <span style="color: rgb(233, 98, 98);">$toZAxis</span>]
    <span style="color: hsl(206, 98.02%, 29.04%);font-weight: 550;">set</span> mcs [tomato::mathcsys::CreateMappingCoordinateSystem <span style="color: rgb(233, 98, 98);">$cs1</span> <span style="color: rgb(233, 98, 98);">$cs2</span>]

    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> <span style="color: rgb(233, 98, 98);">$mcs</span>
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Translation'>Translation</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Creates a translation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Translation</span> <span class='ruff_arg'>translation</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>translation</code></nobr></td><td>A translation vector <a href="tomato-tomato-mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A translated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Translation' href="javascript:toggleSource('tomato_mathcsys_Translation')">Show source</a></p>
<div id='tomato_mathcsys_Translation' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Translation {translation} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Creates a translation.</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # translation - A translation vector [mathvec3d::Vector3d]</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A translated coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::Csys new [<span style="color: rgb(233, 98, 98);">$translation</span> ToPoint3D] [tomato::mathvec3d::UnitX] [tomato::mathvec3d::UnitY] [tomato::mathvec3d::UnitZ]]
}</pre></div>
</div><h3 class='ruffproc'><a name='::tomato::mathcsys::Yaw'>Yaw</a><span class='ns_scope'> [<a href="tomato-tomato-mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='ruff-uplink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a>, <a href='tomato-docindex.html#'>Index</a></span></h3>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around Z</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Yaw</span> <span class='ruff_arg'>av</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td><nobr><code>av</code></nobr></td><td>Angle  in degrees</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns A rotated coordinate system <a href="tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_tomato_mathcsys_Yaw' href="javascript:toggleSource('tomato_mathcsys_Yaw')">Show source</a></p>
<div id='tomato_mathcsys_Yaw' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Yaw {av} {

<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Rotates around Z</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # av - Angle  in degrees</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    #</span>
<span style="color: hsl(218, 8%, 43.5%);font-weight: 500;">    # Returns A rotated coordinate system [Csys]</span>
    <span style="color: rgba(8, 23, 241, 1);font-weight: 550;">return</span> [tomato::mathcsys::RotationAngleVector <span style="color: rgb(233, 98, 98);">$av</span> [tomato::mathvec3d::UnitZ]]
}</pre></div>
</div></main><nav class='ruff-nav'><ul style='position: sticky; top: 0;'><li class='ruff-toc1'><a style='padding-top:2px;' href='tomato.html'>Start page</a></li>
<li class='ruff-toc1'><a href='tomato-docindex.html' accesskey='i'>Index</a></li>
<hr>
<li class='ruff-toc1'><a href='tomato-tomato-helper.html'>tomato::helper</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathtriangle.html'>tomato::mathtriangle</a></li>
<li class='ruff-toc1'><a class='ruff-highlight' href='tomato-tomato-mathcsys.html'>tomato::mathcsys</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathquat.html'>tomato::mathquat</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathline3d.html'>tomato::mathline3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathray3d.html'>tomato::mathray3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathpt3d.html'>tomato::mathpt3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathplane.html'>tomato::mathplane</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathmatrix3d.html'>tomato::mathmatrix3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathvec3d.html'>tomato::mathvec3d</a></li>
<li class='ruff-toc1'><a href='tomato-tomato-mathmatrix.html'>tomato::mathmatrix</a></li>
<hr><li class='ruff-toc2'><a href='#::tomato::mathcsys-Classes'>Classes</a></li><li class='ruff-toc3'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys'>Csys</a></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::constructor'>constructor</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Csys create OBJNAME</span> <span class='ruff_arg'>?args?</span>
<span class='ruff_cmd'>Csys new</span> <span class='ruff_arg'>?args?</span></pre>Initializes a new Coordinate System Class.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::!='>!=</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ !=</span> <span class='ruff_arg'>other ?tolerance?</span></pre>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::=='>==</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ ==</span> <span class='ruff_arg'>other ?tolerance?</span></pre>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::BaseChangeMatrix'>BaseChangeMatrix</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ BaseChangeMatrix</span> </pre>Gets the base change matrix
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::BaseClass'>BaseClass</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ BaseClass</span> </pre>Gets the base class (Matrix obj)
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::GetType'>GetType</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ GetType</span> </pre>Gets the name of class.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Invert'>Invert</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ Invert</span> </pre>Inverts this coordinate system
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::OffsetBy'>OffsetBy</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ OffsetBy</span> <span class='ruff_arg'>v</span></pre>Translates a coordinate system
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::OffsetToBase'>OffsetToBase</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ OffsetToBase</span> </pre>Gets the offset to origin
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Origin'>Origin</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ Origin</span> </pre>Gets the Origin
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ResetRotations'>ResetRotations</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ ResetRotations</span> </pre>Resets rotations preserves scales
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::RotateCoordSysAroundVector'>RotateCoordSysAroundVector</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ RotateCoordSysAroundVector</span> <span class='ruff_arg'>about angle</span></pre>Rotates a coordinate system around a vector
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::RotateNoReset'>RotateNoReset</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ RotateNoReset</span> <span class='ruff_arg'>yaw pitch roll</span></pre>Rotate without Reset
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::SetTranslation'>SetTranslation</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ SetTranslation</span> <span class='ruff_arg'>v</span></pre>Gets a translation coordinate system
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ToString'>ToString</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ ToString</span> </pre>Returns a string representation of this object.
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::Transform'>Transform</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ Transform</span> <span class='ruff_arg'>obj</span></pre>Transforms...
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformBy'>TransformBy</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ TransformBy</span> <span class='ruff_arg'>obj</span></pre>Transforms...
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformFromCoordSys'>TransformFromCoordSys</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ TransformFromCoordSys</span> <span class='ruff_arg'>obj</span></pre>Transforms obj according to the inverse of this change matrix
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TransformToCoordSys'>TransformToCoordSys</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ TransformToCoordSys</span> <span class='ruff_arg'>obj</span></pre>Transforms obj according to this change matrix
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::TranslateCsys'>TranslateCsys</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ TranslateCsys</span> <span class='ruff_arg'>v d</span></pre>Translates a coordinate system follow vector and distance
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::XAxis'>XAxis</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ XAxis</span> </pre>Gets the X Axis
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::YAxis'>YAxis</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ YAxis</span> </pre>Gets the Y Axis
</span></li><li class='ruff-toc4 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Csys::ZAxis'>ZAxis</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CSYSOBJ ZAxis</span> </pre>Gets the Z Axis
</span></li><li class='ruff-toc2'><a href='#::tomato::mathcsys-Commands'>Commands</a></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::CreateMappingCoordinateSystem'>CreateMappingCoordinateSystem</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>CreateMappingCoordinateSystem</span> <span class='ruff_arg'>fromCs toCs</span></pre>Creates a coordinate system that maps from the <code>from</code> coordinate system to the <code>to</code> coordinate system.
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Equals'>Equals</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Equals</span> <span class='ruff_arg'>cs other tolerance</span></pre>Indicate if this coordinate system is equivalent to a another coordinate system
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::GetRotationSubMatrix'>GetRotationSubMatrix</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>GetRotationSubMatrix</span> <span class='ruff_arg'>coordinateSystem</span></pre>Gets a rotation submatrix from a coordinate system
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Parse'>Parse</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Parse</span> <span class='ruff_arg'>?args?</span></pre>Transform a list to coordinate system
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Pitch'>Pitch</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Pitch</span> <span class='ruff_arg'>av</span></pre>Rotates around Y
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Roll'>Roll</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Roll</span> <span class='ruff_arg'>av</span></pre>Rotates around X
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::RotateTo'>RotateTo</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>RotateTo</span> <span class='ruff_arg'>fromVector3D toVector3D ?axis?</span></pre>Sets to the matrix of rotation that aligns the <code>from</code> vector with the <code>to</code> vector.<br> The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions<br> to specify a specific solution, but is otherwise ignored.<br>
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::RotationAngleVector'>RotationAngleVector</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>RotationAngleVector</span> <span class='ruff_arg'>angle v</span></pre>Creates a rotating coordinate system
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::RotationByAngles'>RotationByAngles</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>RotationByAngles</span> <span class='ruff_arg'>yaw pitch roll</span></pre>Successive intrinsic rotations around Z (yaw) then around Y (pitch) and then around X (roll) Gives an order of magnitude speed improvement. https://en.wikipedia.org/wiki/Rotation_matrix#General_rotations
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::SetRotationSubMatrix'>SetRotationSubMatrix</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>SetRotationSubMatrix</span> <span class='ruff_arg'>r coordinateSystem</span></pre>Creates a rotating coordinate system
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::SetToAlignCoordinateSystems'>SetToAlignCoordinateSystems</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>SetToAlignCoordinateSystems</span> <span class='ruff_arg'>fromOrigin fromXAxis fromYAxis fromZAxis toOrigin toXAxis toYAxis toZAxis</span></pre>Sets this matrix to be the matrix that maps from the <code>from</code> coordinate system to the <code>to</code> coordinate system.
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Translation'>Translation</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Translation</span> <span class='ruff_arg'>translation</span></pre>Creates a translation.
</span></li><li class='ruff-toc3 ruff-tip'><a href='tomato-tomato-mathcsys.html#::tomato::mathcsys::Yaw'>Yaw</a><span class='ruff-tiptext'><pre><span class='ruff_cmd'>Yaw</span> <span class='ruff_arg'>av</span></pre>Rotates around Z
</span></li></ul></nav><footer class='ruff-layout-footer ruff-ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></footer>
</div></body></html>

