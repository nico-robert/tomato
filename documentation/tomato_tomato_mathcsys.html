<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title></title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:monospace;*font-size:108%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto 10px;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:13.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:14.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:1;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}


/* Ruff default CSS */

body {
  max-width: 70em;
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft {
  text-align: left;
  border-top: 1px solid #006666;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #006666;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #006666;
 color: #006666;
}

p.linkline {
    text-align: right;
    font-size: smaller;
    /*    margin-top: -1em; */
    margin-bottom: 0;
}

.tinylink {
    font-size: x-small;
    font-variant: normal;
    font-family: Arial, sans-serif;
    float: right;
    padding:2px;
}

h1 .tinylink a {
    color: white;
}

#bd {
font-family: Arial, sans-serif;
font-size: 108%;
}

div.navbox {
  /* margin-top: 1em; */
    background-color: #006666;
    color: white;
    padding: 3px 4px 2px 4px;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

div.navbox:hover {
    overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
    font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #006666;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
    position: relative;
    /* display: inline-block; */
}

.tooltip .tooltiptext {
    width: 100%;
    font-weight: bold;
    background-color: white;
    color: #006666;
    text-align: left;
    border: 1px solid #006666;
    /* border-radius: 4px; */
    position: absolute;
    z-index: 1;
    margin-left: 4px;
    padding: 2px 3px;
    visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}

span.ns_scope {
    color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
    background-color: #006666;
    color: #ffffff;
    padding-left: 0.2em;
    font-family: "Times New Roman", serif;
}
h2.ruff {
    font-variant: small-caps;
    color: #006666;
    font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
    color: #006666;
}
h5.ruff {
    font-style: italic;
    font-weight: normal;
}
h6.ruff {
    font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
    border-bottom: thin solid #006666;
    color: #006666;
    margin-bottom: 0.2em;
}

pre {
    background-color: #eeeeee;
    margin-top: 1em;
    margin-left: 1em;
    padding: 5px;
    font-family: Consolas, "Courier New", monospace;
    width: max-content;
    font-size: smaller;
    line-height: 1.2em;
}

.ruff_dyn_src {
    display: none; /* Displayed via JS */
}

.ruff_synopsis {
    border: thin solid #cccccc;
    background: #eeeeee;
    font-size: smaller;
    font-family: Consolas, "Courier New", monospace;
    padding: 5px;
    margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
    font-weight: bold;
    font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
    font-style: italic;
    font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
    font-size: smaller;
}
</style>
<script>function toggleSource( id )
{
    /* Copied from Rails */
    var elem
    var link

    if( document.getElementById )
    {
        elem = document.getElementById( id )
        link = document.getElementById( "l_" + id )
    }
    else if ( document.all )
    {
        elem = eval( "document.all." + id )
        link = eval( "document.all.l_" + id )
    }
    else
        return false;

    if( elem.style.display == "block" )
    {
        elem.style.display = "none"
        link.innerHTML = "Show source"
    }
    else
    {
        elem.style.display = "block"
        link.innerHTML = "Hide source"
    }
}
</script></head>
<body><div id='doc3' class='yui-t2'><div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::tomato::mathcsys'></a>::tomato::mathcsys<span class='tinylink'><a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>A Class representing a Coordinate System.</p>
<h2 class='ruff'><a name='::tomato::mathcsys-Classes'></a>Classes<span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffclass'><a name='::tomato::mathcsys::Csys'>Csys</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h3>
<div style='clear:both;'></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::!=" title="!=" class='ruff_cmd'>!=</a></td><td class='ruff_defitem'>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::==" title="==" class='ruff_cmd'>==</a></td><td class='ruff_defitem'>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::BaseChangeMatrix" title="BaseChangeMatrix" class='ruff_cmd'>BaseChangeMatrix</a></td><td class='ruff_defitem'>Gets the base change matrix</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::BaseClass" title="BaseClass" class='ruff_cmd'>BaseClass</a></td><td class='ruff_defitem'>Gets the base class (Matrix obj)</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::GetType" title="GetType" class='ruff_cmd'>GetType</a></td><td class='ruff_defitem'>Gets the name of class.</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Invert" title="Invert" class='ruff_cmd'>Invert</a></td><td class='ruff_defitem'>Inverts this coordinate system</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::OffsetBy" title="OffsetBy" class='ruff_cmd'>OffsetBy</a></td><td class='ruff_defitem'>Translates a coordinate system</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::OffsetToBase" title="OffsetToBase" class='ruff_cmd'>OffsetToBase</a></td><td class='ruff_defitem'>Gets the offset to origin</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Origin" title="Origin" class='ruff_cmd'>Origin</a></td><td class='ruff_defitem'>Gets the Origin</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ResetRotations" title="ResetRotations" class='ruff_cmd'>ResetRotations</a></td><td class='ruff_defitem'>Resets rotations preserves scales</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::RotateCoordSysAroundVector" title="RotateCoordSysAroundVector" class='ruff_cmd'>RotateCoordSysAroundVector</a></td><td class='ruff_defitem'>Rotates a coordinate system around a vector</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::RotateNoReset" title="RotateNoReset" class='ruff_cmd'>RotateNoReset</a></td><td class='ruff_defitem'>Rotate without Reset</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::SetTranslation" title="SetTranslation" class='ruff_cmd'>SetTranslation</a></td><td class='ruff_defitem'>Gets a translation coordinate system</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ToString" title="ToString" class='ruff_cmd'>ToString</a></td><td class='ruff_defitem'>Returns a string representation of this object.</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Transform" title="Transform" class='ruff_cmd'>Transform</a></td><td class='ruff_defitem'>Transforms...</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformBy" title="TransformBy" class='ruff_cmd'>TransformBy</a></td><td class='ruff_defitem'>Transforms...</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformFromCoordSys" title="TransformFromCoordSys" class='ruff_cmd'>TransformFromCoordSys</a></td><td class='ruff_defitem'>Transforms entity according to the inverse of this change matrix</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformToCoordSys" title="TransformToCoordSys" class='ruff_cmd'>TransformToCoordSys</a></td><td class='ruff_defitem'>Transforms entity according to this change matrix</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TranslateCsys" title="TranslateCsys" class='ruff_cmd'>TranslateCsys</a></td><td class='ruff_defitem'>Translates a coordinate system follow vector and distance</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::XAxis" title="XAxis" class='ruff_cmd'>XAxis</a></td><td class='ruff_defitem'>Gets the X Axis</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::YAxis" title="YAxis" class='ruff_cmd'>YAxis</a></td><td class='ruff_defitem'>Gets the Y Axis</td></tr>
<tr><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ZAxis" title="ZAxis" class='ruff_cmd'>ZAxis</a></td><td class='ruff_defitem'>Gets the Z Axis</td></tr>
</table>
<h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::constructor'>constructor</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a new Coordinate System Class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Csys create</span> <span class='ruff_arg'>?args?</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Options described below.</td></tr>
<tr><td class='ruff_defitem'><code>4 values</code></td><td class='ruff_defitem'>4 distinct values :<br> The first value represents the origin <a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a><br> The second value represents the Xaxis <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> The third value represents the Yaxis <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br> The fourth value represents the Zaxis <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a><br></td></tr>
<tr><td class='ruff_defitem'><code>Matrix</code></td><td class='ruff_defitem'>A Matrix. <a href="tomato_tomato_mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a><br> Xaxis  == Column 0<br> Yaxis  == Column 1<br> Zaxis  == Column 2<br> Origin == Column 3</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_34' href="javascript:toggleSource('34')">Show source</a></p>
<div id='34' class='ruff_dyn_src'><pre>method constructor {args} {

    # Initializes a new Coordinate System Class.
    #
    # args - Options described below.
    #
    # Matrix   - A Matrix. [mathmatrix::Matrix]&lt;br&gt;
    #            Xaxis  == Column 0&lt;br&gt;
    #            Yaxis  == Column 1&lt;br&gt;
    #            Zaxis  == Column 2&lt;br&gt;
    #            Origin == Column 3
    # 4 values - 4 distinct values :&lt;br&gt;
    #            The first value represents the origin [mathpt3d::Point3d]&lt;br&gt;
    #            The second value represents the Xaxis [mathvec3d::Vector3d]&lt;br&gt;
    #            The third value represents the Yaxis [mathvec3d::Vector3d]&lt;br&gt;
    #            The fourth value represents the Zaxis [mathvec3d::Vector3d]&lt;br&gt;

    if {[llength $args] == 1} {

        if {[TypeOf $args Isa &quot;Matrix&quot;]} {

            set _baseclass $args
            set _xaxis   [tomato::mathvec3d::Vector3d new [lrange [$_baseclass GetColumn 0] 0 2]]
            set _yaxis   [tomato::mathvec3d::Vector3d new [lrange [$_baseclass GetColumn 1] 0 2]]
            set _zaxis   [tomato::mathvec3d::Vector3d new [lrange [$_baseclass GetColumn 2] 0 2]]
            set _origin  [tomato::mathpt3d::Point3d   new [lrange [$_baseclass GetColumn 3] 0 2]]
        } else {
            error &quot;Must be a matrix if args equal to 1...&quot;
        }

    } elseif {[llength $args] == 4} {

        foreach entity $args {
            if {![tomato::helper::IsaObject $entity]} {
                error &quot;\$entity must be a object...&quot;
            }
        }

        lassign $args _or v1 v2 v3

        if {![TypeOf $_or Isa &quot;Point3d&quot;]} {
            error &quot;\[lindex $args 0\] must be a Point3d...&quot;
        }

        foreach entity [list $v1 $v2 $v3] {
            if {![TypeOf $entity Isa &quot;Vector3d&quot;]} {
                error &quot;\$entity must be a Vector3d...&quot;
            }
        }

        set mat [tomato::mathmatrix::Matrix new 4 4]
        set _baseclass $mat

        set _xaxis   $v1
        set _yaxis   $v2
        set _zaxis   $v3
        set _origin $_or

        $mat SetColumn 0 [list {*}[$_xaxis Get] 0]
        $mat SetColumn 1 [list {*}[$_yaxis Get] 0]
        $mat SetColumn 2 [list {*}[$_zaxis Get] 0]
        $mat SetColumn 3 [list {*}[$_origin Get] 1]

    } else {
        # default values
        set mat [tomato::mathmatrix::Matrix new 4 4]
        set _baseclass $mat

        set _xaxis  [tomato::mathvec3d::UnitX]
        set _yaxis  [tomato::mathvec3d::UnitY]
        set _zaxis  [tomato::mathvec3d::UnitZ]
        set _origin [tomato::mathpt3d::Point3d new 0 0 0]

        $mat SetColumn 0 [list {*}[$_xaxis Get] 0]
        $mat SetColumn 1 [list {*}[$_yaxis Get] 0]
        $mat SetColumn 2 [list {*}[$_zaxis Get] 0]
        $mat SetColumn 3 [list {*}[$_origin Get] 1]

    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::!='>!=</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT !=</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>other</code></td><td class='ruff_defitem'>The second coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a> to compare.</td></tr>
<tr><td class='ruff_defitem'><code>tolerance</code></td><td class='ruff_defitem'>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<p class='ruff'>Returns true if the coordinate system are different. Otherwise false.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_35' href="javascript:toggleSource('35')">Show source</a></p>
<div id='35' class='ruff_dyn_src'><pre>method != {other {tolerance {$::tomato::helper::TolEquals}}} {

    # Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.
    #
    # other - The second coordinate system [Csys] to compare.
    # tolerance - A tolerance (epsilon) to adjust for floating point error.
    #
    # Returns true if the coordinate system are different. Otherwise false.
    if {[llength [info level 0]] &lt; 4} {
        set tolerance $::tomato::helper::TolEquals
    }

    return [expr {![tomato::mathcsys::Equals [self] $other $tolerance]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::=='>==</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ==</span> <span class='ruff_arg'>other ?tolerance?</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>other</code></td><td class='ruff_defitem'>The second coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a> to compare.</td></tr>
<tr><td class='ruff_defitem'><code>tolerance</code></td><td class='ruff_defitem'>A tolerance (epsilon) to adjust for floating point error. Optional, default <code>$::tomato::helper::TolEquals</code>.</td></tr>
</table>
<p class='ruff'>Returns true if the coordinate system are the same. Otherwise false.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_36' href="javascript:toggleSource('36')">Show source</a></p>
<div id='36' class='ruff_dyn_src'><pre>method == {other {tolerance {$::tomato::helper::TolEquals}}} {

    # Gets value that indicates whether each pair of elements in two specified coordinate system is equal.
    #
    # other     - The second coordinate system [Csys] to compare.
    # tolerance - A tolerance (epsilon) to adjust for floating point error.
    #
    # Returns true if the coordinate system are the same. Otherwise false.
    if {[llength [info level 0]] &lt; 4} {
        set tolerance $::tomato::helper::TolEquals
    }

    return [expr {[tomato::mathcsys::Equals [self] $other $tolerance]}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::BaseChangeMatrix'>BaseChangeMatrix</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the base change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT BaseChangeMatrix</span> </div>
<p class='ruff'>Returns A matrix <a href="tomato_tomato_mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_37' href="javascript:toggleSource('37')">Show source</a></p>
<div id='37' class='ruff_dyn_src'><pre>method BaseChangeMatrix {} {

    # Gets the base change matrix
    #
    # Returns A matrix [mathmatrix::Matrix]
    set matrix [tomato::mathcsys::GetRotationSubMatrix [self]]
    set cs [tomato::mathcsys::SetRotationSubMatrix [$matrix Transpose] [self]]
    return [$cs BaseClass]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::BaseClass'>BaseClass</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the base class (Matrix obj)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT BaseClass</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_38' href="javascript:toggleSource('38')">Show source</a></p>
<div id='38' class='ruff_dyn_src'><pre>method BaseClass {} {

    # Gets the base class (Matrix obj)
    return $_baseclass
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::GetType'>GetType</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the name of class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT GetType</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_39' href="javascript:toggleSource('39')">Show source</a></p>
<div id='39' class='ruff_dyn_src'><pre>method GetType {} {

    # Gets the name of class.
    return [tomato::helper::TypeClass [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Invert'>Invert</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inverts this coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT Invert</span> </div>
<p class='ruff'>Returns An inverted coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_40' href="javascript:toggleSource('40')">Show source</a></p>
<div id='40' class='ruff_dyn_src'><pre>method Invert {} {

    # Inverts this coordinate system
    #
    # Returns An inverted coordinate system [Csys]
    return [tomato::mathcsys::Csys new [[my BaseClass] Inverse]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::OffsetBy'>OffsetBy</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Translates a coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT OffsetBy</span> <span class='ruff_arg'>v</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>v</code></td><td class='ruff_defitem'>a translation vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<p class='ruff'>Returns A new translated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_41' href="javascript:toggleSource('41')">Show source</a></p>
<div id='41' class='ruff_dyn_src'><pre>method OffsetBy {v} {

    # Translates a coordinate system
    #
    # v - a translation vector [mathvec3d::Vector3d]
    #
    # Returns A new translated coordinate system [Csys]

    set vnormalize [$v Normalized]
    return [tomato::mathcsys::Csys new [[my Origin] + $vnormalize] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::OffsetToBase'>OffsetToBase</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the offset to origin</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT OffsetToBase</span> </div>
<p class='ruff'>Returns A vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_42' href="javascript:toggleSource('42')">Show source</a></p>
<div id='42' class='ruff_dyn_src'><pre>method OffsetToBase {} {

    # Gets the offset to origin
    #
    # Returns A vector [mathvec3d::Vector3d]
    return [$_origin ToVector3D]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Origin'>Origin</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Origin</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT Origin</span> </div>
<p class='ruff'>Returns A point <a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_43' href="javascript:toggleSource('43')">Show source</a></p>
<div id='43' class='ruff_dyn_src'><pre>method Origin {} {

    # Gets the Origin
    #
    # Returns A point [mathpt3d::Point3d]
    return $_origin
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ResetRotations'>ResetRotations</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Resets rotations preserves scales</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ResetRotations</span> </div>
<p class='ruff'>Returns A new coordinate system with reset rotation <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_44' href="javascript:toggleSource('44')">Show source</a></p>
<div id='44' class='ruff_dyn_src'><pre>method ResetRotations {} {

    # Resets rotations preserves scales
    #
    # Returns A new coordinate system with reset rotation [Csys]

    set x [[[my XAxis] Length] * [tomato::mathvec3d::UnitX]]
    set y [[[my YAxis] Length] * [tomato::mathvec3d::UnitY]]
    set z [[[my ZAxis] Length] * [tomato::mathvec3d::UnitZ]]

    return [tomato::mathcsys::Csys new [my Origin] $x $y $z]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::RotateCoordSysAroundVector'>RotateCoordSysAroundVector</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates a coordinate system around a vector</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT RotateCoordSysAroundVector</span> <span class='ruff_arg'>about angle</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>about</code></td><td class='ruff_defitem'>A vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td class='ruff_defitem'><code>angle</code></td><td class='ruff_defitem'>An angle in degrees</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_45' href="javascript:toggleSource('45')">Show source</a></p>
<div id='45' class='ruff_dyn_src'><pre>method RotateCoordSysAroundVector {about angle} {

    # Rotates a coordinate system around a vector
    #
    # about - A vector [mathvec3d::Vector3d]
    # angle - An angle in degrees
    #
    # Returns A rotated coordinate system [Csys]

    set rcs [tomato::mathcsys::RotationAngleVector $angle $about]
    return [$rcs Transform [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::RotateNoReset'>RotateNoReset</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotate without Reset</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT RotateNoReset</span> <span class='ruff_arg'>yaw pitch roll</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>yaw</code></td><td class='ruff_defitem'>The yaw</td></tr>
<tr><td class='ruff_defitem'><code>pitch</code></td><td class='ruff_defitem'>The pitch</td></tr>
<tr><td class='ruff_defitem'><code>roll</code></td><td class='ruff_defitem'>The roll</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_46' href="javascript:toggleSource('46')">Show source</a></p>
<div id='46' class='ruff_dyn_src'><pre>method RotateNoReset {yaw pitch roll} {

    # Rotate without Reset
    #
    # yaw - The yaw
    # pitch - The pitch
    # roll - The roll
    #
    # Returns A rotated coordinate system [Csys]

    set rcs [tomato::mathcsys::RotationByAngles $yaw $pitch $roll]
    return [$rcs Transform [self]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::SetTranslation'>SetTranslation</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a translation coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT SetTranslation</span> <span class='ruff_arg'>v</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>v</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<p class='ruff'>Returns A new coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_47' href="javascript:toggleSource('47')">Show source</a></p>
<div id='47' class='ruff_dyn_src'><pre>method SetTranslation {v} {

    # Gets a translation coordinate system
    #
    # v - [mathvec3d::Vector3d]
    #
    # Returns A new coordinate system [Csys]
    return [tomato::mathcsys::Csys new [$v ToPoint3D] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ToString'>ToString</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ToString</span> </div>
<p class='ruff'>Returns a string representation of this object.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_48' href="javascript:toggleSource('48')">Show source</a></p>
<div id='48' class='ruff_dyn_src'><pre>method ToString {} {

    # Returns a string representation of this object.
    lappend infocsys [list Origin: [$_origin ToString]]
    lappend infocsys [list XAxis: [$_xaxis ToString]]
    lappend infocsys [list YAxis: [$_yaxis ToString]]
    lappend infocsys [list ZAxis: [$_zaxis ToString]]

    return [join $infocsys &quot;, &quot;]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::Transform'>Transform</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT Transform</span> <span class='ruff_arg'>entity</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>entity</code></td><td class='ruff_defitem'>Options described below.</td></tr>
<tr><td class='ruff_defitem'><code>Csys</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td class='ruff_defitem'><code>Point3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td class='ruff_defitem'><code>Ray3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
<tr><td class='ruff_defitem'><code>Vector3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<p class='ruff'>Returns a new entity transformed</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_49' href="javascript:toggleSource('49')">Show source</a></p>
<div id='49' class='ruff_dyn_src'><pre>method Transform {entity} {

    # Transforms...
    #
    # entity - Options described below.
    #
    # Csys     - [Csys]
    # Vector3d - [mathvec3d::Vector3d]
    # Point3d  - [mathpt3d::Point3d]
    # Ray3d    - [mathray3d::Ray3d]
    #
    # Returns a new entity transformed

    switch -glob [$entity GetType] {
        *Csys {
            return [tomato::mathcsys::Csys new [[my BaseClass] Multiply [$entity BaseClass]]]
        }
        *Vector3d {
            set matrix [tomato::mathcsys::GetRotationSubMatrix [self]]
            lassign [$matrix Multiply $entity] x y z

            return [tomato::mathvec3d::Vector3d new $x $y $z]
        }
        *Point3d {
            set mat [tomato::mathmatrix::Matrix new 1 4]
            $mat SetRow 0 [list {*}[$entity Get] 1]

            lassign [[my BaseClass] Multiply $mat] x y z

            return [tomato::mathpt3d::Point3d new $x $y $z]
        }
        *Ray3d {
            return [tomato::mathray3d::Ray3d new [[self] Transform [$entity ThroughPoint]] [[self] Transform [$entity Direction]]]
        }
        default {
            error &quot;Entity must be Csys, Vector3d, Point3d or Ray3d...&quot;
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformBy'>TransformBy</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT TransformBy</span> <span class='ruff_arg'>entity</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>entity</code></td><td class='ruff_defitem'>Options described below.</td></tr>
<tr><td class='ruff_defitem'><code>Csys</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td class='ruff_defitem'><code>Matrix</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></td></tr>
</table>
<p class='ruff'>Returns this by the coordinate system and returns the transformed if csys or a transformed coordinate system if matrix.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_50' href="javascript:toggleSource('50')">Show source</a></p>
<div id='50' class='ruff_dyn_src'><pre>method TransformBy {entity} {

    # Transforms...
    #
    # entity - Options described below.
    #
    # Csys   - [Csys]
    # Matrix - [mathmatrix::Matrix]
    #
    # Returns this by the coordinate system and returns the transformed if csys or a transformed coordinate system if matrix.

    switch -glob [$entity GetType] {
        *Csys {
            return [$entity Transform [self]]
        }
        *Matrix {
            return [tomato::mathcsys::Csys new [$entity Multiply [my BaseClass]]]
        }
        default {
            error &quot;Entity must be Csys or Matrix...&quot;
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformFromCoordSys'>TransformFromCoordSys</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms entity according to the inverse of this change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT TransformFromCoordSys</span> <span class='ruff_arg'>entity</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>entity</code></td><td class='ruff_defitem'>Options described below.</td></tr>
<tr><td class='ruff_defitem'><code>Point3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td class='ruff_defitem'><code>Ray3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<p class='ruff'>Returns a transformed point <a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a> if Point3d or a transformed ray if Ray3d.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_51' href="javascript:toggleSource('51')">Show source</a></p>
<div id='51' class='ruff_dyn_src'><pre>method TransformFromCoordSys {entity} {

    # Transforms entity according to the inverse of this change matrix
    #
    # entity - Options described below.
    #
    # Ray3d   - [mathray3d::Ray3d]
    # Point3d - [mathpt3d::Point3d]
    #
    # Returns a transformed point [mathpt3d::Point3d] if Point3d or a transformed ray if Ray3d.

    switch -glob [$entity GetType] {
        *Ray3d {
            set p  [$entity ThroughPoint]
            set uv [$entity Direction]

            set baseChangeMatrix [my BaseChangeMatrix]
            set matinv    [$baseChangeMatrix Inverse]
            set mattocsys [$matinv ToCsys]

            set point [[$mattocsys Transform $p] + [my OffsetToBase]]
            set direction [$mattocsys Transform $uv]

            return [tomato::mathray3d::Ray3d new $point $direction]
        }
        *Point3d {
            set baseChangeMatrix [my BaseChangeMatrix]
            set point [[[[$baseChangeMatrix Inverse] ToCsys] Transform $entity] + [my OffsetToBase]]

            return $point
        }
        default {
            error &quot;Entity must be Ray3d Or Point3d...&quot;
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TransformToCoordSys'>TransformToCoordSys</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transforms entity according to this change matrix</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT TransformToCoordSys</span> <span class='ruff_arg'>entity</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>entity</code></td><td class='ruff_defitem'>Options described below.</td></tr>
<tr><td class='ruff_defitem'><code>Point3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a></td></tr>
<tr><td class='ruff_defitem'><code>Ray3d</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a></td></tr>
</table>
<p class='ruff'>Returns a transformed point if Point3d or a transformed ray <a href="tomato_tomato_mathray3d.html#::tomato::mathray3d::Ray3d" title="mathray3d::Ray3d" class='ruff_cmd'>mathray3d::Ray3d</a> if Ray3d.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_52' href="javascript:toggleSource('52')">Show source</a></p>
<div id='52' class='ruff_dyn_src'><pre>method TransformToCoordSys {entity} {

    # Transforms entity according to this change matrix
    #
    # entity - Options described below.
    #
    # Ray3d   - [mathray3d::Ray3d]
    # Point3d - [mathpt3d::Point3d]
    #
    # Returns a transformed point if Point3d or a transformed ray [mathray3d::Ray3d] if Ray3d.

    switch -glob [$entity GetType] {
        *Ray3d {
            set p  [$entity ThroughPoint]
            set uv [$entity Direction]

            set baseChangeMatrix [my BaseChangeMatrix]

            # The position and the vector are transformed
            set point [[[$baseChangeMatrix ToCsys] Transform $p] + [my OffsetToBase]]
            set direction [$uv TransformBy $baseChangeMatrix]

            return [tomato::mathray3d::Ray3d new $point $direction]
        }
        *Point3d {
            set baseChangeMatrix [my BaseChangeMatrix]
            set point [[[$baseChangeMatrix ToCsys] Transform $entity] + [my OffsetToBase]]

            return $point
        }
        default {
            error &quot;Entity must be Ray3d Or Point3d...&quot;
        }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::TranslateCsys'>TranslateCsys</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Translates a coordinate system follow vector and distance</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT TranslateCsys</span> <span class='ruff_arg'>v d</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>v</code></td><td class='ruff_defitem'>a translation vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
<tr><td class='ruff_defitem'><code>d</code></td><td class='ruff_defitem'>Distance translation</td></tr>
</table>
<p class='ruff'>Returns A new translated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_53' href="javascript:toggleSource('53')">Show source</a></p>
<div id='53' class='ruff_dyn_src'><pre>method TranslateCsys {v d} {

    # Translates a coordinate system follow vector and distance
    #
    # v - a translation vector [mathvec3d::Vector3d]
    # d - Distance translation
    #
    # Returns A new translated coordinate system [Csys]
    return [tomato::mathcsys::Csys new [[my Origin] TranslatePoint $v $d] [my XAxis] [my YAxis] [my ZAxis]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::XAxis'>XAxis</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the X Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT XAxis</span> </div>
<p class='ruff'>Returns A vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_54' href="javascript:toggleSource('54')">Show source</a></p>
<div id='54' class='ruff_dyn_src'><pre>method XAxis {} {

    # Gets the X Axis
    #
    # Returns A vector [mathvec3d::Vector3d]
    return $_xaxis
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::YAxis'>YAxis</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Y Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT YAxis</span> </div>
<p class='ruff'>Returns A vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_55' href="javascript:toggleSource('55')">Show source</a></p>
<div id='55' class='ruff_dyn_src'><pre>method YAxis {} {

    # Gets the Y Axis
    #
    # Returns A vector [mathvec3d::Vector3d]
    return $_yaxis
}</pre></div>
</div><h4 class='ruffmethod'><a name='::tomato::mathcsys::Csys::ZAxis'>ZAxis</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="::tomato::mathcsys::Csys" class='ruff_cmd'>::tomato::mathcsys::Csys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the Z Axis</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ZAxis</span> </div>
<p class='ruff'>Returns A vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_56' href="javascript:toggleSource('56')">Show source</a></p>
<div id='56' class='ruff_dyn_src'><pre>method ZAxis {} {

    # Gets the Z Axis
    #
    # Returns A vector [mathvec3d::Vector3d]
    return $_zaxis
}</pre></div>
</div><h2 class='ruff'><a name='::tomato::mathcsys-Commands'></a>Commands<span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h2>
<div style='clear:both;'></div>
<h4 class='ruffproc'><a name='::tomato::mathcsys::CreateMappingCoordinateSystem'>CreateMappingCoordinateSystem</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a coordinate system that maps from the 'from' coordinate system to the 'to' coordinate system.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>CreateMappingCoordinateSystem</span> <span class='ruff_arg'>fromCs toCs</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fromCs</code></td><td class='ruff_defitem'>The from coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td class='ruff_defitem'><code>toCs</code></td><td class='ruff_defitem'>The to coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<p class='ruff'>Returns A mapping coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_57' href="javascript:toggleSource('57')">Show source</a></p>
<div id='57' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::CreateMappingCoordinateSystem {fromCs toCs} {

    # Creates a coordinate system that maps from the 'from' coordinate system to the 'to' coordinate system.
    #
    # fromCs - The from coordinate system [Csys]
    # toCs   - The to coordinate system [Csys]
    #
    # Returns A mapping coordinate system [Csys]
    set singular 0
    set det -1

    try {
        set det [[$fromCs BaseClass] Determinant]
    } trap {singular} {} {
        set singular 1
    } on error {msg} {
        error $msg
    }

    if {$singular || (abs($det) &lt; $::tomato::helper::TolEquals)} {
        set mat [[$toCs BaseClass] Multiply [$fromCs BaseClass]]
    } else {
        set mat [[$toCs BaseClass] Multiply [[$fromCs BaseClass] Inverse]]
    }

    $mat SetCell 3 3 1

    return [tomato::mathcsys::Csys new $mat]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Equals'>Equals</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Indicate if this coordinate system is equivalent to a another coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Equals</span> <span class='ruff_arg'>cs other tolerance</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>cs</code></td><td class='ruff_defitem'>First input coordinate system  <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td class='ruff_defitem'><code>other</code></td><td class='ruff_defitem'>Second input coordinate system  <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
<tr><td class='ruff_defitem'><code>tolerance</code></td><td class='ruff_defitem'>A tolerance (epsilon) to adjust for floating point error</td></tr>
</table>
<p class='ruff'>See : methods == !=</p>
<p class='ruff'>An error exception is raised if tolerance (epsilon) &lt; 0.</p>
<p class='ruff'>Returns true if the coordinate system are equal, otherwise false.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_58' href="javascript:toggleSource('58')">Show source</a></p>
<div id='58' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Equals {cs other tolerance} {

    # Indicate if this coordinate system is equivalent to a another coordinate system
    #
    # cs - First input coordinate system  [Csys]
    # other - Second input coordinate system  [Csys]
    # tolerance - A tolerance (epsilon) to adjust for floating point error
    #
    # Returns true if the coordinate system are equal, otherwise false.
    #
    # See : methods == !=
    if {$tolerance &lt; 0} {
        #ruff
        # An error exception is raised if tolerance (epsilon) &lt; 0.
        error &quot;epsilon &lt; 0&quot;
    }
    return [expr {
                  [tomato::mathpt3d::Equals  [$cs Origin] [$other Origin] $tolerance] &amp;&amp;
                  [tomato::mathvec3d::Equals [$cs XAxis] [$other XAxis] $tolerance] &amp;&amp;
                  [tomato::mathvec3d::Equals [$cs YAxis] [$other YAxis] $tolerance] &amp;&amp;
                  [tomato::mathvec3d::Equals [$cs ZAxis] [$other ZAxis] $tolerance]
                }]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::GetRotationSubMatrix'>GetRotationSubMatrix</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a rotation submatrix from a coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>GetRotationSubMatrix</span> <span class='ruff_arg'>coordinateSystem</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>coordinateSystem</code></td><td class='ruff_defitem'><a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<p class='ruff'>Returns A rotation matrix <a href="tomato_tomato_mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_59' href="javascript:toggleSource('59')">Show source</a></p>
<div id='59' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::GetRotationSubMatrix {coordinateSystem} {

    # Gets a rotation submatrix from a coordinate system
    #
    # coordinateSystem - [Csys]
    #
    # Returns A rotation matrix [mathmatrix::Matrix]
    set csbase [$coordinateSystem BaseClass]
    return [$csbase SubMatrix 0 3 0 3]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Parse'>Parse</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Transform a list to coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Parse</span> <span class='ruff_arg'>?args?</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Options described below.</td></tr>
</table>
<p class='ruff'>The first  value represents the origin [Tcl list]<br> The second value represents the Xaxis [Tcl list]<br> The third  value represents the Yaxis [Tcl list]<br> The fourth value represents the Zaxis [Tcl list]<br></p>
<p class='ruff'>Returns A new coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_60' href="javascript:toggleSource('60')">Show source</a></p>
<div id='60' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Parse {args} {

    # Transform a list to coordinate system
    #
    # args - Options described below.
    #
    # The first  value represents the origin \[Tcl list]&lt;br&gt;
    # The second value represents the Xaxis \[Tcl list]&lt;br&gt;
    # The third  value represents the Yaxis \[Tcl list]&lt;br&gt;
    # The fourth value represents the Zaxis \[Tcl list]&lt;br&gt;
    #
    # Returns A new coordinate system [Csys]

    if {[llength $args] == 1} {

        if {[llength {*}$args] != 4} {
            error &quot;must be a list 4 elements...&quot;
        }

        lassign {*}$args or vx vy vz

        set p  [tomato::mathpt3d::Point3d new $or]
        set v1 [tomato::mathvec3d::Vector3d new $vx]
        set v2 [tomato::mathvec3d::Vector3d new $vy]
        set v3 [tomato::mathvec3d::Vector3d new $vz]

        return [tomato::mathcsys::Csys new $p $v1 $v2 $v3]

    } elseif {[llength $args] == 4} {

        lassign $args or vx vy vz

        set p  [tomato::mathpt3d::Point3d new $or]
        set v1 [tomato::mathvec3d::Vector3d new $vx]
        set v2 [tomato::mathvec3d::Vector3d new $vy]
        set v3 [tomato::mathvec3d::Vector3d new $vz]

        return [tomato::mathcsys::Csys new $p $v1 $v2 $v3]

    } else {
        error &quot;must be a list of 1 with 4 sub lists or 4 elements...&quot;
    }
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Pitch'>Pitch</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around Y</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Pitch</span> <span class='ruff_arg'>av</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>av</code></td><td class='ruff_defitem'>Angle  in degrees</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_61' href="javascript:toggleSource('61')">Show source</a></p>
<div id='61' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Pitch {av} {

    # Rotates around Y
    #
    # av - Angle  in degrees
    #
    # Returns A rotated coordinate system [Csys]
    return [tomato::mathcsys::RotationAngleVector $av [tomato::mathvec3d::UnitY]]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Roll'>Roll</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around X</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Roll</span> <span class='ruff_arg'>av</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>av</code></td><td class='ruff_defitem'>Angle  in degrees</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_62' href="javascript:toggleSource('62')">Show source</a></p>
<div id='62' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Roll {av} {

    # Rotates around X
    #
    # av - Angle  in degrees
    #
    # Returns A rotated coordinate system [Csys]
    return [tomato::mathcsys::RotationAngleVector $av [tomato::mathvec3d::UnitX]]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::RotateTo'>RotateTo</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets to the matrix of rotation that aligns the 'from' vector with the 'to' vector.<br> The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions<br> to specify a specific solution, but is otherwise ignored.<br></p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotateTo</span> <span class='ruff_arg'>fromVector3D toVector3D ?axis?</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fromVector3D</code></td><td class='ruff_defitem'>Input Vector object to align from.</td></tr>
<tr><td class='ruff_defitem'><code>toVector3D</code></td><td class='ruff_defitem'>Input Vector object to align to.</td></tr>
<tr><td class='ruff_defitem'><code>axis</code></td><td class='ruff_defitem'>Input Vector object. Optional, default <code>null</code>.</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_63' href="javascript:toggleSource('63')">Show source</a></p>
<div id='63' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotateTo {fromVector3D toVector3D {axis null}} {

    # Sets to the matrix of rotation that aligns the 'from' vector with the 'to' vector.&lt;br&gt;
    # The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions&lt;br&gt;
    # to specify a specific solution, but is otherwise ignored.&lt;br&gt;
    #
    # fromVector3D - Input Vector object to align from.
    # toVector3D   - Input Vector object to align to.
    # axis         - Input Vector object.
    #
    # Returns A rotated coordinate system [Csys]

    set r [tomato::mathmatrix3d::RotationTo $fromVector3D $toVector3D $axis]
    set coordinateSystem [tomato::mathcsys::Csys new]
    set cs [tomato::mathcsys::SetRotationSubMatrix $r $coordinateSystem]

    return $cs
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::RotationAngleVector'>RotationAngleVector</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a rotating coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotationAngleVector</span> <span class='ruff_arg'>angle v</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>angle</code></td><td class='ruff_defitem'>Angle to rotate in degrees</td></tr>
<tr><td class='ruff_defitem'><code>v</code></td><td class='ruff_defitem'>Vector to rotate about <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<p class='ruff'>Returns A rotating coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_64' href="javascript:toggleSource('64')">Show source</a></p>
<div id='64' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotationAngleVector {angle v} {

    # Creates a rotating coordinate system
    #
    # angle - Angle to rotate in degrees
    # v   - Vector to rotate about [mathvec3d::Vector3d]
    #
    # Returns A rotating coordinate system [Csys]

    set mat [tomato::mathmatrix::Matrix new 4 4]
    $mat SetSubMatrix 0 3 0 3 [tomato::mathmatrix3d::RotationAroundArbitraryVector [$v Normalized] [tomato::helper::DegreesToRadians $angle]]

    $mat SetCell 3 3 1

    return [tomato::mathcsys::Csys new $mat]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::RotationByAngles'>RotationByAngles</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotation around Z (yaw) then around Y (pitch) and then around X (roll) http://en.wikipedia.org/wiki/Aircraft_principal_axes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>RotationByAngles</span> <span class='ruff_arg'>yaw pitch roll</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>yaw</code></td><td class='ruff_defitem'>Rotates around Z (angle in degrees)</td></tr>
<tr><td class='ruff_defitem'><code>pitch</code></td><td class='ruff_defitem'>Rotates around Y (angle in degrees)</td></tr>
<tr><td class='ruff_defitem'><code>roll</code></td><td class='ruff_defitem'>Rotates around X (angle in degrees)</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_65' href="javascript:toggleSource('65')">Show source</a></p>
<div id='65' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::RotationByAngles {yaw pitch roll} {

    # Rotation around Z (yaw) then around Y (pitch) and then around X (roll)
    # http://en.wikipedia.org/wiki/Aircraft_principal_axes
    #
    # yaw   - Rotates around Z (angle in degrees)
    # pitch - Rotates around Y (angle in degrees)
    # roll  - Rotates around X (angle in degrees)
    #
    # Returns A rotated coordinate system [Csys]

    set cs [tomato::mathcsys::Csys new]

    set yt [tomato::mathcsys::Yaw $yaw]
    set pt [tomato::mathcsys::Pitch $pitch]
    set rt [tomato::mathcsys::Roll $roll]

    return [$rt Transform [$pt Transform [$yt Transform $cs]]]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::SetRotationSubMatrix'>SetRotationSubMatrix</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a rotating coordinate system</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetRotationSubMatrix</span> <span class='ruff_arg'>r coordinateSystem</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>r</code></td><td class='ruff_defitem'>A 3x3 matrix with the rotation portion <a href="tomato_tomato_mathmatrix.html#::tomato::mathmatrix::Matrix" title="mathmatrix::Matrix" class='ruff_cmd'>mathmatrix::Matrix</a></td></tr>
<tr><td class='ruff_defitem'><code>coordinateSystem</code></td><td class='ruff_defitem'>A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></td></tr>
</table>
<p class='ruff'>Returns A rotating coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_66' href="javascript:toggleSource('66')">Show source</a></p>
<div id='66' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::SetRotationSubMatrix {r coordinateSystem} {

    # Creates a rotating coordinate system
    #
    # r                  - A 3x3 matrix with the rotation portion [mathmatrix::Matrix]
    # coordinateSystem   - A rotated coordinate system [Csys]
    #
    # Returns A rotating coordinate system [Csys]
    if {[$r RowCount] != 3 || [$r ColumnCount] != 3} {
        error &quot;[tomato::helper::TypeClass $r] must be Matrix3x3...&quot;
    }

    set cs [tomato::mathcsys::Csys new [$coordinateSystem Origin]  [$coordinateSystem XAxis]  [$coordinateSystem YAxis]  [$coordinateSystem ZAxis]  ]

    set csbase [$cs BaseClass]
    $csbase SetSubMatrix 0 [$r RowCount] 0 [$r ColumnCount] $r

    return [tomato::mathcsys::Csys new $csbase]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::SetToAlignCoordinateSystems'>SetToAlignCoordinateSystems</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets this matrix to be the matrix that maps from the 'from' coordinate system to the 'to' coordinate system.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>SetToAlignCoordinateSystems</span> <span class='ruff_arg'>fromOrigin fromXAxis fromYAxis fromZAxis toOrigin toXAxis toYAxis toZAxis</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fromOrigin</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a> that defines the origin to map the coordinate system from</td></tr>
<tr><td class='ruff_defitem'><code>fromXAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the X-axis to map the coordinate system from.</td></tr>
<tr><td class='ruff_defitem'><code>fromYAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the Y-axis to map the coordinate system from.</td></tr>
<tr><td class='ruff_defitem'><code>fromZAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the Z-axis to map the coordinate system from.</td></tr>
<tr><td class='ruff_defitem'><code>toOrigin</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathpt3d.html#::tomato::mathpt3d::Point3d" title="mathpt3d::Point3d" class='ruff_cmd'>mathpt3d::Point3d</a> object that defines the origin to map the coordinate system to.</td></tr>
<tr><td class='ruff_defitem'><code>toXAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the X-axis to map the coordinate system to.</td></tr>
<tr><td class='ruff_defitem'><code>toYAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the Y-axis to map the coordinate system to.</td></tr>
<tr><td class='ruff_defitem'><code>toZAxis</code></td><td class='ruff_defitem'>Input <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a> object that defines the Z-axis to map the coordinate system to.</td></tr>
</table>
<p class='ruff'>Returns A mapping coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_67' href="javascript:toggleSource('67')">Show source</a></p>
<div id='67' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::SetToAlignCoordinateSystems {fromOrigin fromXAxis fromYAxis fromZAxis toOrigin toXAxis toYAxis toZAxis} {

    # Sets this matrix to be the matrix that maps from the 'from' coordinate system to the 'to' coordinate system.
    #
    # fromOrigin - Input [mathpt3d::Point3d] that defines the origin to map the coordinate system from
    # fromXAxis  - Input [mathvec3d::Vector3d] object that defines the X-axis to map the coordinate system from.
    # fromYAxis  - Input [mathvec3d::Vector3d] object that defines the Y-axis to map the coordinate system from.
    # fromZAxis  - Input [mathvec3d::Vector3d] object that defines the Z-axis to map the coordinate system from.
    # toOrigin   - Input [mathpt3d::Point3d] object that defines the origin to map the coordinate system to.
    # toXAxis    - Input [mathvec3d::Vector3d] object that defines the X-axis to map the coordinate system to.
    # toYAxis    - Input [mathvec3d::Vector3d] object that defines the Y-axis to map the coordinate system to.
    # toZAxis    - Input [mathvec3d::Vector3d] object that defines the Z-axis to map the coordinate system to.
    #
    # Returns A mapping coordinate system [Csys]

    set cs1 [tomato::mathcsys::Csys new $fromOrigin $fromXAxis $fromYAxis $fromZAxis]
    set cs2 [tomato::mathcsys::Csys new $toOrigin $toXAxis $toYAxis $toZAxis]
    set mcs [tomato::mathcsys::CreateMappingCoordinateSystem $cs1 $cs2]

    return $mcs
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Translation'>Translation</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a translation.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Translation</span> <span class='ruff_arg'>translation</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>translation</code></td><td class='ruff_defitem'>A translation vector <a href="tomato_tomato_mathvec3d.html#::tomato::mathvec3d::Vector3d" title="mathvec3d::Vector3d" class='ruff_cmd'>mathvec3d::Vector3d</a></td></tr>
</table>
<p class='ruff'>Returns A translated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_68' href="javascript:toggleSource('68')">Show source</a></p>
<div id='68' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Translation {translation} {

    # Creates a translation.
    #
    # translation - A translation vector [mathvec3d::Vector3d]
    #
    # Returns A translated coordinate system [Csys]
    return [tomato::mathcsys::Csys new [$translation ToPoint3D] [tomato::mathvec3d::UnitX] [tomato::mathvec3d::UnitY] [tomato::mathvec3d::UnitZ]]
}</pre></div>
</div><h4 class='ruffproc'><a name='::tomato::mathcsys::Yaw'>Yaw</a><span class='ns_scope'> [<a href="tomato_tomato_mathcsys.html#::tomato::mathcsys" title="::tomato::mathcsys" class='ruff_cmd'>::tomato::mathcsys</a>]</span><span class='tinylink'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys'>mathcsys</a>, <a href='#top'>Top</a>, <a href='tomato.html'>Main</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rotates around Z</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>Yaw</span> <span class='ruff_arg'>av</span></div>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>av</code></td><td class='ruff_defitem'>Angle  in degrees</td></tr>
</table>
<p class='ruff'>Returns A rotated coordinate system <a href="tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys" title="Csys" class='ruff_cmd'>Csys</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_69' href="javascript:toggleSource('69')">Show source</a></p>
<div id='69' class='ruff_dyn_src'><pre>proc ::tomato::mathcsys::Yaw {av} {

    # Rotates around Z
    #
    # av - Angle  in degrees
    #
    # Returns A rotated coordinate system [Csys]
    return [tomato::mathcsys::RotationAngleVector $av [tomato::mathvec3d::UnitZ]]
}</pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a style='padding-top:2px;' href='tomato.html'>Start page</a></h1>
<hr>
<h1><a href='tomato_tomato_helper.html'>tomato::helper</a></h1>
<h1><a href='tomato_tomato_mathtriangle.html'>tomato::mathtriangle</a></h1>
<h1><a style='color: #006666;background-color: white; margin-left:-4px; padding-left:3px;padding-right:2px;' href='tomato_tomato_mathcsys.html'>tomato::mathcsys</a></h1>
<h1><a href='tomato_tomato_mathquat.html'>tomato::mathquat</a></h1>
<h1><a href='tomato_tomato_mathline3d.html'>tomato::mathline3d</a></h1>
<h1><a href='tomato_tomato_mathray3d.html'>tomato::mathray3d</a></h1>
<h1><a href='tomato_tomato_mathpt3d.html'>tomato::mathpt3d</a></h1>
<h1><a href='tomato_tomato_mathplane.html'>tomato::mathplane</a></h1>
<h1><a href='tomato_tomato_mathmatrix3d.html'>tomato::mathmatrix3d</a></h1>
<h1><a href='tomato_tomato_mathvec3d.html'>tomato::mathvec3d</a></h1>
<h1><a href='tomato_tomato_mathmatrix.html'>tomato::mathmatrix</a></h1>
<hr><h1><a href='#::tomato::mathcsys'>tomato::mathcsys</a></h1><h2><a href='#::tomato::mathcsys-Classes'>Classes</a></h2><h3><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys'>Csys</a></h3><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::constructor'>constructor</a><span class='tooltiptext'>Initializes a new Coordinate System Class.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::!='>!=</a><span class='tooltiptext'>Gets value that indicates whether any pair of elements in two specified coordinate system is not equal.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::=='>==</a><span class='tooltiptext'>Gets value that indicates whether each pair of elements in two specified coordinate system is equal.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::BaseChangeMatrix'>BaseChangeMatrix</a><span class='tooltiptext'>Gets the base change matrix
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::BaseClass'>BaseClass</a><span class='tooltiptext'>Gets the base class (Matrix obj)
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::GetType'>GetType</a><span class='tooltiptext'>Gets the name of class.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Invert'>Invert</a><span class='tooltiptext'>Inverts this coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::OffsetBy'>OffsetBy</a><span class='tooltiptext'>Translates a coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::OffsetToBase'>OffsetToBase</a><span class='tooltiptext'>Gets the offset to origin
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Origin'>Origin</a><span class='tooltiptext'>Gets the Origin
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ResetRotations'>ResetRotations</a><span class='tooltiptext'>Resets rotations preserves scales
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::RotateCoordSysAroundVector'>RotateCoordSysAroundVector</a><span class='tooltiptext'>Rotates a coordinate system around a vector
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::RotateNoReset'>RotateNoReset</a><span class='tooltiptext'>Rotate without Reset
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::SetTranslation'>SetTranslation</a><span class='tooltiptext'>Gets a translation coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ToString'>ToString</a><span class='tooltiptext'>Returns a string representation of this object.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::Transform'>Transform</a><span class='tooltiptext'>Transforms...
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformBy'>TransformBy</a><span class='tooltiptext'>Transforms...
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformFromCoordSys'>TransformFromCoordSys</a><span class='tooltiptext'>Transforms entity according to the inverse of this change matrix
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TransformToCoordSys'>TransformToCoordSys</a><span class='tooltiptext'>Transforms entity according to this change matrix
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::TranslateCsys'>TranslateCsys</a><span class='tooltiptext'>Translates a coordinate system follow vector and distance
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::XAxis'>XAxis</a><span class='tooltiptext'>Gets the X Axis
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::YAxis'>YAxis</a><span class='tooltiptext'>Gets the Y Axis
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Csys::ZAxis'>ZAxis</a><span class='tooltiptext'>Gets the Z Axis
</span></h4><h2><a href='#::tomato::mathcsys-Commands'>Commands</a></h2><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::CreateMappingCoordinateSystem'>CreateMappingCoordinateSystem</a><span class='tooltiptext'>Creates a coordinate system that maps from the 'from' coordinate system to the 'to' coordinate system.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Equals'>Equals</a><span class='tooltiptext'>Indicate if this coordinate system is equivalent to a another coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::GetRotationSubMatrix'>GetRotationSubMatrix</a><span class='tooltiptext'>Gets a rotation submatrix from a coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Parse'>Parse</a><span class='tooltiptext'>Transform a list to coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Pitch'>Pitch</a><span class='tooltiptext'>Rotates around Y
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Roll'>Roll</a><span class='tooltiptext'>Rotates around X
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::RotateTo'>RotateTo</a><span class='tooltiptext'>Sets to the matrix of rotation that aligns the 'from' vector with the 'to' vector.<br> The optional Axis argument may be used when the two vectors are perpendicular and in opposite directions<br> to specify a specific solution, but is otherwise ignored.<br>
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::RotationAngleVector'>RotationAngleVector</a><span class='tooltiptext'>Creates a rotating coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::RotationByAngles'>RotationByAngles</a><span class='tooltiptext'>Rotation around Z (yaw) then around Y (pitch) and then around X (roll) http://en.wikipedia.org/wiki/Aircraft_principal_axes
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::SetRotationSubMatrix'>SetRotationSubMatrix</a><span class='tooltiptext'>Creates a rotating coordinate system
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::SetToAlignCoordinateSystems'>SetToAlignCoordinateSystems</a><span class='tooltiptext'>Sets this matrix to be the matrix that maps from the 'from' coordinate system to the 'to' coordinate system.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Translation'>Translation</a><span class='tooltiptext'>Creates a translation.
</span></h4><h4 class='tooltip'><a href='tomato_tomato_mathcsys.html#::tomato::mathcsys::Yaw'>Yaw</a><span class='tooltiptext'>Rotates around Z
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
